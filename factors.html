<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Factors | Coding in R</title>
  <meta name="description" content="This is yet another book about programming in the statistical programming R language." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Factors | Coding in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is yet another book about programming in the statistical programming R language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Factors | Coding in R" />
  
  <meta name="twitter:description" content="This is yet another book about programming in the statistical programming R language." />
  

<meta name="author" content="Gaston Sanchez" />


<meta name="date" content="2022-02-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="more-about-vectors.html"/>
<link rel="next" href="arrays.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Coding in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#yet-another-r-book"><i class="fa fa-check"></i>Yet Another R Book</a></li>
</ul></li>
<li class="part"><span><b>I Getting Started with R and RStudio</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#interacting-with-r"><i class="fa fa-check"></i><b>1.1</b> Interacting with R</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rintro.html"><a href="rintro.html"><i class="fa fa-check"></i><b>2</b> Breaking the Ice with R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rintro.html"><a href="rintro.html#first-contact-with-r-via-rstudio"><i class="fa fa-check"></i><b>2.1</b> First Contact with R (via RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="rintro.html"><a href="rintro.html#r-as-a-scientific-calculator"><i class="fa fa-check"></i><b>2.1.1</b> R as a scientific calculator</a></li>
<li class="chapter" data-level="2.1.2" data-path="rintro.html"><a href="rintro.html#assigning-values-to-objects"><i class="fa fa-check"></i><b>2.1.2</b> Assigning values to objects</a></li>
<li class="chapter" data-level="2.1.3" data-path="rintro.html"><a href="rintro.html#object-names"><i class="fa fa-check"></i><b>2.1.3</b> Object Names</a></li>
<li class="chapter" data-level="2.1.4" data-path="rintro.html"><a href="rintro.html#case-sensitive"><i class="fa fa-check"></i><b>2.1.4</b> Case Sensitive</a></li>
<li class="chapter" data-level="2.1.5" data-path="rintro.html"><a href="rintro.html#calling-functions"><i class="fa fa-check"></i><b>2.1.5</b> Calling Functions</a></li>
<li class="chapter" data-level="2.1.6" data-path="rintro.html"><a href="rintro.html#comments-in-r"><i class="fa fa-check"></i><b>2.1.6</b> Comments in R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rintro.html"><a href="rintro.html#help-documentation"><i class="fa fa-check"></i><b>2.2</b> Getting Help</a></li>
<li class="chapter" data-level="2.3" data-path="rintro.html"><a href="rintro.html#installing-packages"><i class="fa fa-check"></i><b>2.3</b> Installing Packages</a></li>
<li class="chapter" data-level="2.4" data-path="rintro.html"><a href="rintro.html#exercises"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>3</b> A Quick Tour Around RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rstudio.html"><a href="rstudio.html#first-contact-with-rstudio"><i class="fa fa-check"></i><b>3.1</b> First Contact with RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio.html"><a href="rstudio.html#rstudio-panes-in-a-nutshell"><i class="fa fa-check"></i><b>3.2</b> RStudio Panes in a Nutshell</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="rstudio.html"><a href="rstudio.html#console"><i class="fa fa-check"></i><b>3.2.1</b> Console</a></li>
<li class="chapter" data-level="3.2.2" data-path="rstudio.html"><a href="rstudio.html#files-plots-packages-help"><i class="fa fa-check"></i><b>3.2.2</b> Files, Plots, Packages, Help</a></li>
<li class="chapter" data-level="3.2.3" data-path="rstudio.html"><a href="rstudio.html#source-or-editor"><i class="fa fa-check"></i><b>3.2.3</b> Source or Editor</a></li>
<li class="chapter" data-level="3.2.4" data-path="rstudio.html"><a href="rstudio.html#environment-history-connections"><i class="fa fa-check"></i><b>3.2.4</b> Environment, History, Connections</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rstudio.html"><a href="rstudio.html#exercises-1"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="session.html"><a href="session.html"><i class="fa fa-check"></i><b>4</b> Session Management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="session.html"><a href="session.html#starting-a-session"><i class="fa fa-check"></i><b>4.1</b> Starting a Session</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="session.html"><a href="session.html#what-happens-when-you-open-an-r-session-via-rstudio"><i class="fa fa-check"></i><b>4.1.1</b> What happens when you open an R session via RStudio?</a></li>
<li class="chapter" data-level="4.1.2" data-path="session.html"><a href="session.html#opening-a-session-for-the-first-time"><i class="fa fa-check"></i><b>4.1.2</b> Opening a session for the first time</a></li>
<li class="chapter" data-level="4.1.3" data-path="session.html"><a href="session.html#working-directory"><i class="fa fa-check"></i><b>4.1.3</b> Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="session.html"><a href="session.html#working-during-a-session"><i class="fa fa-check"></i><b>4.2</b> Working During a Session</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="session.html"><a href="session.html#working-directory-1"><i class="fa fa-check"></i><b>4.2.1</b> Working Directory</a></li>
<li class="chapter" data-level="4.2.2" data-path="session.html"><a href="session.html#workspace-and-global-environment"><i class="fa fa-check"></i><b>4.2.2</b> Workspace and Global Environment</a></li>
<li class="chapter" data-level="4.2.3" data-path="session.html"><a href="session.html#commands-history"><i class="fa fa-check"></i><b>4.2.3</b> Commands History</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="session.html"><a href="session.html#closing-a-session"><i class="fa fa-check"></i><b>4.3</b> Closing a Session</a></li>
</ul></li>
<li class="part"><span><b>II Data Objects in R</b></span></li>
<li class="chapter" data-level="5" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>5</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.1" data-path="vectors.html"><a href="vectors.html#motivation-compound-interest"><i class="fa fa-check"></i><b>5.1</b> Motivation: Compound Interest</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="vectors.html"><a href="vectors.html#creating-objects"><i class="fa fa-check"></i><b>5.1.1</b> Creating Objects</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="vectors.html"><a href="vectors.html#about-r-vectors"><i class="fa fa-check"></i><b>5.2</b> About R Vectors</a></li>
<li class="chapter" data-level="5.3" data-path="vectors.html"><a href="vectors.html#vectors-are-atomic-objects"><i class="fa fa-check"></i><b>5.3</b> Vectors are Atomic Objects</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="vectors.html"><a href="vectors.html#types-and-modes"><i class="fa fa-check"></i><b>5.3.1</b> Types and Modes</a></li>
<li class="chapter" data-level="5.3.2" data-path="vectors.html"><a href="vectors.html#special-values"><i class="fa fa-check"></i><b>5.3.2</b> Special Values</a></li>
<li class="chapter" data-level="5.3.3" data-path="vectors.html"><a href="vectors.html#length-of-vectors"><i class="fa fa-check"></i><b>5.3.3</b> Length of Vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="vectors.html"><a href="vectors.html#creating-vectors"><i class="fa fa-check"></i><b>5.4</b> Creating Vectors</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="vectors.html"><a href="vectors.html#creating-vectors-with-c"><i class="fa fa-check"></i><b>5.4.1</b> Creating vectors with <code>c()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="vectors.html"><a href="vectors.html#numeric-sequences"><i class="fa fa-check"></i><b>5.4.2</b> Numeric Sequences</a></li>
<li class="chapter" data-level="5.4.3" data-path="vectors.html"><a href="vectors.html#replicated-vectors"><i class="fa fa-check"></i><b>5.4.3</b> Replicated Vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>5.5</b> Coercion</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="vectors.html"><a href="vectors.html#implicit-coercion-rules"><i class="fa fa-check"></i><b>5.5.1</b> Implicit Coercion Rules</a></li>
<li class="chapter" data-level="5.5.2" data-path="vectors.html"><a href="vectors.html#explicit-coercion-functions"><i class="fa fa-check"></i><b>5.5.2</b> Explicit Coercion Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="more-about-vectors.html"><a href="more-about-vectors.html"><i class="fa fa-check"></i><b>6</b> More About Vectors</a>
<ul>
<li class="chapter" data-level="6.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#motivation-future-value"><i class="fa fa-check"></i><b>6.1</b> Motivation: Future Value</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#future-value-formula"><i class="fa fa-check"></i><b>6.1.1</b> Future Value Formula</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="more-about-vectors.html"><a href="more-about-vectors.html#vectorization"><i class="fa fa-check"></i><b>6.2</b> Vectorization</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#definition-of-vectorization"><i class="fa fa-check"></i><b>6.2.1</b> Definition of Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="more-about-vectors.html"><a href="more-about-vectors.html#recycling"><i class="fa fa-check"></i><b>6.3</b> Recycling</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#vectorization-and-recycling"><i class="fa fa-check"></i><b>6.3.1</b> Vectorization and Recycling</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="more-about-vectors.html"><a href="more-about-vectors.html#manipulating-vectors-subsetting"><i class="fa fa-check"></i><b>6.4</b> Manipulating Vectors: Subsetting</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#numeric-subsetting"><i class="fa fa-check"></i><b>6.4.1</b> Numeric Subsetting</a></li>
<li class="chapter" data-level="6.4.2" data-path="more-about-vectors.html"><a href="more-about-vectors.html#character-subsetting"><i class="fa fa-check"></i><b>6.4.2</b> Character Subsetting</a></li>
<li class="chapter" data-level="6.4.3" data-path="more-about-vectors.html"><a href="more-about-vectors.html#logical-subsetting"><i class="fa fa-check"></i><b>6.4.3</b> Logical Subsetting</a></li>
<li class="chapter" data-level="6.4.4" data-path="more-about-vectors.html"><a href="more-about-vectors.html#summary-of-subsetting"><i class="fa fa-check"></i><b>6.4.4</b> Summary of Subsetting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> Factors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>7.1</b> Creating Factors</a></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#how-r-treats-factors"><i class="fa fa-check"></i><b>7.2</b> How R treats factors</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#a-closer-look-at-factor"><i class="fa fa-check"></i><b>7.3</b> A closer look at <code>factor()</code></a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="factors.html"><a href="factors.html#function-factor"><i class="fa fa-check"></i><b>7.3.1</b> Function <code>factor()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="factors.html"><a href="factors.html#unclassing-factors"><i class="fa fa-check"></i><b>7.3.2</b> Unclassing factors</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#ordinal-factors"><i class="fa fa-check"></i><b>7.4</b> Ordinal Factors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="arrays.html"><a href="arrays.html"><i class="fa fa-check"></i><b>8</b> Matrices and Arrays</a>
<ul>
<li class="chapter" data-level="8.1" data-path="arrays.html"><a href="arrays.html#motivation"><i class="fa fa-check"></i><b>8.1</b> Motivation</a></li>
<li class="chapter" data-level="8.2" data-path="arrays.html"><a href="arrays.html#tables-with-matrices"><i class="fa fa-check"></i><b>8.2</b> Tables with Matrices</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="arrays.html"><a href="arrays.html#r-matrices"><i class="fa fa-check"></i><b>8.2.1</b> R Matrices</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="arrays.html"><a href="arrays.html#creating-matrices-with-matrix"><i class="fa fa-check"></i><b>8.3</b> Creating matrices with <code>matrix()</code></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="arrays.html"><a href="arrays.html#more-matrices"><i class="fa fa-check"></i><b>8.3.1</b> More Matrices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>9</b> Lists</a>
<ul>
<li class="chapter" data-level="9.1" data-path="lists.html"><a href="lists.html#creating-lists"><i class="fa fa-check"></i><b>9.1</b> Creating Lists</a></li>
<li class="chapter" data-level="9.2" data-path="lists.html"><a href="lists.html#manipulating-lists"><i class="fa fa-check"></i><b>9.2</b> Manipulating Lists</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="lists.html"><a href="lists.html#single-brackets"><i class="fa fa-check"></i><b>9.2.1</b> Single brackets</a></li>
<li class="chapter" data-level="9.2.2" data-path="lists.html"><a href="lists.html#double-brackets"><i class="fa fa-check"></i><b>9.2.2</b> Double Brackets</a></li>
<li class="chapter" data-level="9.2.3" data-path="lists.html"><a href="lists.html#dollar-signs"><i class="fa fa-check"></i><b>9.2.3</b> Dollar signs</a></li>
<li class="chapter" data-level="9.2.4" data-path="lists.html"><a href="lists.html#adding-new-elements"><i class="fa fa-check"></i><b>9.2.4</b> Adding new elements</a></li>
<li class="chapter" data-level="9.2.5" data-path="lists.html"><a href="lists.html#removing-elements"><i class="fa fa-check"></i><b>9.2.5</b> Removing elements</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lists.html"><a href="lists.html#exercises-2"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>10</b> R Data Frames</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframes.html"><a href="dataframes.html#r-data-frames"><i class="fa fa-check"></i><b>10.1</b> R Data Frames</a></li>
<li class="chapter" data-level="10.2" data-path="dataframes.html"><a href="dataframes.html#inspecting-data-frames"><i class="fa fa-check"></i><b>10.2</b> Inspecting data frames</a></li>
<li class="chapter" data-level="10.3" data-path="dataframes.html"><a href="dataframes.html#creating-data-frames"><i class="fa fa-check"></i><b>10.3</b> Creating data frames</a></li>
<li class="chapter" data-level="10.4" data-path="dataframes.html"><a href="dataframes.html#basic-operations-with-data-frames"><i class="fa fa-check"></i><b>10.4</b> Basic Operations with Data Frames</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="dataframes.html"><a href="dataframes.html#selecting-elements"><i class="fa fa-check"></i><b>10.4.1</b> Selecting elements</a></li>
<li class="chapter" data-level="10.4.2" data-path="dataframes.html"><a href="dataframes.html#adding-a-column"><i class="fa fa-check"></i><b>10.4.2</b> Adding a column</a></li>
<li class="chapter" data-level="10.4.3" data-path="dataframes.html"><a href="dataframes.html#deleting-a-column"><i class="fa fa-check"></i><b>10.4.3</b> Deleting a column</a></li>
<li class="chapter" data-level="10.4.4" data-path="dataframes.html"><a href="dataframes.html#renaming-a-column"><i class="fa fa-check"></i><b>10.4.4</b> Renaming a column</a></li>
<li class="chapter" data-level="10.4.5" data-path="dataframes.html"><a href="dataframes.html#moving-a-column"><i class="fa fa-check"></i><b>10.4.5</b> Moving a column</a></li>
<li class="chapter" data-level="10.4.6" data-path="dataframes.html"><a href="dataframes.html#transforming-a-column"><i class="fa fa-check"></i><b>10.4.6</b> Transforming a column</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="dataframes.html"><a href="dataframes.html#exercises-3"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Programming Basics</b></span></li>
<li class="chapter" data-level="11" data-path="functions1.html"><a href="functions1.html"><i class="fa fa-check"></i><b>11</b> Intro to Functions</a>
<ul>
<li class="chapter" data-level="11.1" data-path="functions1.html"><a href="functions1.html#motivation-1"><i class="fa fa-check"></i><b>11.1</b> Motivation</a></li>
<li class="chapter" data-level="11.2" data-path="functions1.html"><a href="functions1.html#writing-a-simple-function"><i class="fa fa-check"></i><b>11.2</b> Writing a Simple Function</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="functions1.html"><a href="functions1.html#arguments-with-default-values"><i class="fa fa-check"></i><b>11.2.1</b> Arguments with default values</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions1.html"><a href="functions1.html#writing-functions-for-humans"><i class="fa fa-check"></i><b>11.3</b> Writing Functions for Humans</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="functions1.html"><a href="functions1.html#naming-functions"><i class="fa fa-check"></i><b>11.3.1</b> Naming Functions</a></li>
<li class="chapter" data-level="11.3.2" data-path="functions1.html"><a href="functions1.html#functions-documentation"><i class="fa fa-check"></i><b>11.3.2</b> Function’s Documentation</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functions1.html"><a href="functions1.html#exercises-4"><i class="fa fa-check"></i><b>11.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="expressions.html"><a href="expressions.html"><i class="fa fa-check"></i><b>12</b> Expressions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="expressions.html"><a href="expressions.html#r-expressions"><i class="fa fa-check"></i><b>12.1</b> R Expressions</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="expressions.html"><a href="expressions.html#simple-expressions"><i class="fa fa-check"></i><b>12.1.1</b> Simple Expressions</a></li>
<li class="chapter" data-level="12.1.2" data-path="expressions.html"><a href="expressions.html#compound-expressions"><i class="fa fa-check"></i><b>12.1.2</b> Compound Expressions</a></li>
<li class="chapter" data-level="12.1.3" data-path="expressions.html"><a href="expressions.html#every-expression-has-a-value"><i class="fa fa-check"></i><b>12.1.3</b> Every expression has a value</a></li>
<li class="chapter" data-level="12.1.4" data-path="expressions.html"><a href="expressions.html#assignments-within-compound-expressions"><i class="fa fa-check"></i><b>12.1.4</b> Assignments within Compound Expressions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>13</b> Conditionals</a>
<ul>
<li class="chapter" data-level="13.1" data-path="conditionals.html"><a href="conditionals.html#motivation-2"><i class="fa fa-check"></i><b>13.1</b> Motivation</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="conditionals.html"><a href="conditionals.html#future-value-of-ordinary-annuity"><i class="fa fa-check"></i><b>13.1.1</b> Future Value of Ordinary Annuity</a></li>
<li class="chapter" data-level="13.1.2" data-path="conditionals.html"><a href="conditionals.html#future-value-of-annuity-due"><i class="fa fa-check"></i><b>13.1.2</b> Future Value of Annuity Due</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="conditionals.html"><a href="conditionals.html#conditionals-1"><i class="fa fa-check"></i><b>13.2</b> Conditionals</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="conditionals.html"><a href="conditionals.html#if-else-conditions"><i class="fa fa-check"></i><b>13.2.1</b> If-else conditions</a></li>
<li class="chapter" data-level="13.2.2" data-path="conditionals.html"><a href="conditionals.html#anatomy-of-if-else-statements"><i class="fa fa-check"></i><b>13.2.2</b> Anatomy of if-else statements</a></li>
<li class="chapter" data-level="13.2.3" data-path="conditionals.html"><a href="conditionals.html#minimalist-if-then-else"><i class="fa fa-check"></i><b>13.2.3</b> Minimalist If-then-else</a></li>
<li class="chapter" data-level="13.2.4" data-path="conditionals.html"><a href="conditionals.html#simple-ifs"><i class="fa fa-check"></i><b>13.2.4</b> Simple If’s</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="conditionals.html"><a href="conditionals.html#multiple-ifs"><i class="fa fa-check"></i><b>13.3</b> Multiple If’s</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="conditionals.html"><a href="conditionals.html#switch-statements"><i class="fa fa-check"></i><b>13.3.1</b> Switch statements</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="conditionals.html"><a href="conditionals.html#derivation-of-fvoa"><i class="fa fa-check"></i><b>13.4</b> Derivation of FVOA</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.gastonsanchez.com" target="blank">Gaston Sanchez</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Coding in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="factors" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Factors</h1>
<p>I’m one of those with the humble opinion that great software for data science
and analytics should have a data structure dedicated to handle categorical data.
Lucky for us, one of the nicest features about R is that it provides a data
object exclusively designed to handle categorical data: <strong>factors</strong>.</p>
<p>The term “factor” as used in R for handling categorical variables, comes from
the terminology used in <em>Analysis of Variance</em>, commonly referred to as ANOVA.
In this statistical method, a categorical variable is commonly referred to as,
surprise-surprise, <em>factor</em> and its categories are known as <em>levels</em>. Perhaps
this is not the best terminology but it is the one R uses, which reflects its
distinctive statistical origins. Especially for those users without a brackground
in statistics, this is one of R’s idiosyncracies that seems disconcerning at
the beginning. But as long as you keep in mind that a factor is just the object
that allows you to handle a qualitative variable you’ll be fine. In case you
need it, here’s a short mantra to remember:</p>
<blockquote>
<p>factors have levels</p>
</blockquote>
<div id="creating-factors" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Creating Factors</h2>
<p>To create a factor in R you use the homonym function <code>factor()</code>, which takes a
vector as input. The vector can be either numeric, character or logical. Let’s
see our first example:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="factors.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vector</span></span>
<span id="cb78-2"><a href="factors.html#cb78-2" aria-hidden="true" tabindex="-1"></a>num_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb78-3"><a href="factors.html#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="factors.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># creating a factor from num_vector</span></span>
<span id="cb78-5"><a href="factors.html#cb78-5" aria-hidden="true" tabindex="-1"></a>first_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector)</span>
<span id="cb78-6"><a href="factors.html#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="factors.html#cb78-7" aria-hidden="true" tabindex="-1"></a>first_factor</span>
<span id="cb78-8"><a href="factors.html#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb78-9"><a href="factors.html#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3</span></span></code></pre></div>
<p>As you can tell from the previous code snippet, <code>factor()</code> converts the numeric
vector <code>num_vector</code> into a factor (i.e. a categorical variable) with 3
categories—the so called <code>levels</code>.</p>
<p>You can also obtain a factor from a string vector:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="factors.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># string vector</span></span>
<span id="cb79-2"><a href="factors.html#cb79-2" aria-hidden="true" tabindex="-1"></a>str_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb79-3"><a href="factors.html#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="factors.html#cb79-4" aria-hidden="true" tabindex="-1"></a>str_vector</span>
<span id="cb79-5"><a href="factors.html#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;b&quot; &quot;c&quot; &quot;a&quot; &quot;c&quot; &quot;b&quot;</span></span>
<span id="cb79-6"><a href="factors.html#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="factors.html#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co"># creating a factor from str_vector</span></span>
<span id="cb79-8"><a href="factors.html#cb79-8" aria-hidden="true" tabindex="-1"></a>second_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(str_vector)</span>
<span id="cb79-9"><a href="factors.html#cb79-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-10"><a href="factors.html#cb79-10" aria-hidden="true" tabindex="-1"></a>second_factor</span>
<span id="cb79-11"><a href="factors.html#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb79-12"><a href="factors.html#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: a b c</span></span></code></pre></div>
<p>Notice how <code>str_vector</code> and <code>second_factor</code> are displayed. Even though the
elements are the same in both the vector and the factor, they are printed in
different formats. The letters in the string vector are displayed with quotes,
while the letters in the factor are printed without quotes.</p>
<p>And of course, you can use a logical vector to generate a factor as well:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="factors.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># logical vector</span></span>
<span id="cb80-2"><a href="factors.html#cb80-2" aria-hidden="true" tabindex="-1"></a>log_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb80-3"><a href="factors.html#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="factors.html#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># creating a factor from log_vector</span></span>
<span id="cb80-5"><a href="factors.html#cb80-5" aria-hidden="true" tabindex="-1"></a>third_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(log_vector)</span>
<span id="cb80-6"><a href="factors.html#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7"><a href="factors.html#cb80-7" aria-hidden="true" tabindex="-1"></a>third_factor</span>
<span id="cb80-8"><a href="factors.html#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE  FALSE TRUE  TRUE  FALSE</span></span>
<span id="cb80-9"><a href="factors.html#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: FALSE TRUE</span></span></code></pre></div>
</div>
<div id="how-r-treats-factors" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> How R treats factors</h2>
<p>Technically speaking, R factors are referred to as <em>compound objects</em>. According
to the “R Language Definition” manual:</p>
<blockquote>
<p>“Factors are currently implemented using an integer array to specify the
actual levels and a second array of names that are mapped to the integers.”</p>
</blockquote>
<p>What does this mean?</p>
<p>Essentially, a factor is internally stored using two ingredients: one is an
integer vector containing the values of categories, the other is a vector with
the “levels” which has the names of categories which are mapped to the integers.</p>
<p>Under the hood, the way R stores factors is as vectors of integer values.
One way to confirm this is using the function <code>storage.mode()</code></p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="factors.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># storage of factor</span></span>
<span id="cb81-2"><a href="factors.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">storage.mode</span>(first_factor)</span>
<span id="cb81-3"><a href="factors.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span></code></pre></div>
<p>This means that we can manipulate factors just like we manipulate vectors. In
addition, many functions for vectors can be applied to factors. For instance,
we can use the function <code>length()</code> to get the number of elements in a factor:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="factors.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># factors have length</span></span>
<span id="cb82-2"><a href="factors.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(first_factor)</span>
<span id="cb82-3"><a href="factors.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>We can also use the square brackets <code>[ ]</code> to extract or select elements of a
factor. Inside the brackets we specify vectors of indices such as numeric
vectors, logical vectors, and sometimes even character vectors.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="factors.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first element</span></span>
<span id="cb83-2"><a href="factors.html#cb83-2" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="dv">1</span>]</span>
<span id="cb83-3"><a href="factors.html#cb83-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-4"><a href="factors.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="co"># third element</span></span>
<span id="cb83-5"><a href="factors.html#cb83-5" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="dv">3</span>]</span>
<span id="cb83-6"><a href="factors.html#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7"><a href="factors.html#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="co"># second to fourth elements</span></span>
<span id="cb83-8"><a href="factors.html#cb83-8" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb83-9"><a href="factors.html#cb83-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-10"><a href="factors.html#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="co"># last element</span></span>
<span id="cb83-11"><a href="factors.html#cb83-11" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="fu">length</span>(first_factor)]</span>
<span id="cb83-12"><a href="factors.html#cb83-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-13"><a href="factors.html#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="co"># logical subsetting</span></span>
<span id="cb83-14"><a href="factors.html#cb83-14" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="at">length.out =</span> <span class="dv">7</span>)]</span></code></pre></div>
<p>If you have a factor with named elements, you can also specify the names of
the elements within the brackets:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="factors.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(first_factor) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(first_factor)]</span>
<span id="cb84-2"><a href="factors.html#cb84-2" aria-hidden="true" tabindex="-1"></a>first_factor</span>
<span id="cb84-3"><a href="factors.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; a b c d e f g </span></span>
<span id="cb84-4"><a href="factors.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2 3 1 2 3 2 </span></span>
<span id="cb84-5"><a href="factors.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3</span></span>
<span id="cb84-6"><a href="factors.html#cb84-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-7"><a href="factors.html#cb84-7" aria-hidden="true" tabindex="-1"></a>first_factor[<span class="fu">c</span>(<span class="st">&#39;b&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;f&#39;</span>)]</span>
<span id="cb84-8"><a href="factors.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; b d f </span></span>
<span id="cb84-9"><a href="factors.html#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1 3 </span></span>
<span id="cb84-10"><a href="factors.html#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3</span></span></code></pre></div>
<p>However, you should know that factors are NOT really vectors. To see this you
can check the behavior of the functions <code>is.factor()</code> and <code>is.vector()</code> on a
factor:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="factors.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># factors are not vectors</span></span>
<span id="cb85-2"><a href="factors.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(first_factor)</span>
<span id="cb85-3"><a href="factors.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb85-4"><a href="factors.html#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="factors.html#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="co"># factors are factors</span></span>
<span id="cb85-6"><a href="factors.html#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(first_factor)</span>
<span id="cb85-7"><a href="factors.html#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Even a single element of a factor is also a factor:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="factors.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(first_factor[<span class="dv">1</span>])</span>
<span id="cb86-2"><a href="factors.html#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span></code></pre></div>
<div id="so-what-makes-a-factor-different-from-a-vector" class="section level4 unnumbered">
<h4>So what makes a factor different from a vector?</h4>
<p>Well, it turns out that factors have an additional attribute that vectors don’t:
<code>levels</code>. And as you can expect, the class of a factor is indeed <code>"factor"</code>
(not <code>"vector"</code>).</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="factors.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># attributes of a factor</span></span>
<span id="cb87-2"><a href="factors.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(first_factor)</span>
<span id="cb87-3"><a href="factors.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $levels</span></span>
<span id="cb87-4"><a href="factors.html#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</span></span>
<span id="cb87-5"><a href="factors.html#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb87-6"><a href="factors.html#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb87-7"><a href="factors.html#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span>
<span id="cb87-8"><a href="factors.html#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb87-9"><a href="factors.html#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb87-10"><a href="factors.html#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot;</span></span></code></pre></div>
<p>Another feature that makes factors so special is that their values (the levels)
are mapped to a set of character values for displaying purposes. This might
seem like a minor feature but it has two important consequences. On the one
hand, this implies that factors provide a way to store character values very
efficiently. Why? Because each unique character value is stored only once, and
the data itself is stored as a vector of integers.</p>
<p>Notice how the numeric value <code>1</code> was mapped into the character value <code>"1"</code>. And
the same happens for the other values <code>2</code> and <code>3</code> that are mapped into the
characters <code>"2"</code> and <code>"3"</code>.</p>
</div>
<div id="what-is-the-advantage-of-r-factors" class="section level4 unnumbered">
<h4>What is the advantage of R factors?</h4>
<p>Every time I teach about factors, there is inevitably one student who asks a
very pertinent question: Why do we want to use factors? Isn’t it redundant to
have a factor object when there are already character or integer vectors?</p>
<p>I have two answers to this question.</p>
<p>The first has to do with the storage of factors. Storing a factor as integers
will usually be more efficient than storing a character vector. As we’ve seen,
this is an important issue especially when the data—to be encoded into a
factor—is of considerable size.</p>
<p>The second reason has to do with categorical variables of <em>ordinal</em> nature.
Qualitative data can be classified into nominal and ordinal variables. Nominal
variables could be easily handled with character vectors. In fact, <em>nominal</em>
means name (values are just names or labels), and there’s no natural order
among the categories.</p>
<p>A different story is when we have ordinal variables, like sizes <code>"small"</code>,
<code>"medium"</code>, <code>"large"</code> or college years <code>"freshman"</code>, <code>"sophomore"</code>, <code>"junior"</code>,
<code>"senior"</code>. In these cases we are still using names of categories, but they
can be arranged in increasing or decreasing order. In other words, we can rank
the categories since they have a natural order: small is less than medium which
is less than large. Likewise, freshman comes first, then sophomore, followed by
junior, and finally senior.</p>
<p>So here’s an important question: How do we keep the order of categories in an
ordinal variable? We can use a character vector to store the values. But a
character vector does not allow us to store the ranking of categories. The
solution in R comes via factors. We can use factors to define ordinal variables,
like the following example:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="factors.html#cb88-1" aria-hidden="true" tabindex="-1"></a>sizes <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb88-2"><a href="factors.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">&#39;sm&#39;</span>, <span class="st">&#39;md&#39;</span>, <span class="st">&#39;lg&#39;</span>, <span class="st">&#39;sm&#39;</span>, <span class="st">&#39;md&#39;</span>),</span>
<span id="cb88-3"><a href="factors.html#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;sm&#39;</span>, <span class="st">&#39;md&#39;</span>, <span class="st">&#39;lg&#39;</span>),</span>
<span id="cb88-4"><a href="factors.html#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb88-5"><a href="factors.html#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="factors.html#cb88-6" aria-hidden="true" tabindex="-1"></a>sizes</span>
<span id="cb88-7"><a href="factors.html#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] sm md lg sm md</span></span>
<span id="cb88-8"><a href="factors.html#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: sm &lt; md &lt; lg</span></span></code></pre></div>
<p>As you can tell, <code>sizes</code> has ordered levels, clearly identifying the first
category <code>"sm"</code>, the second one <code>"md"</code>, and the third one <code>"lg"</code>.</p>
</div>
</div>
<div id="a-closer-look-at-factor" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> A closer look at <code>factor()</code></h2>
<p>Since working with categorical data in R typically involves working with factors,
you should become familiar with the variety of functions related with them. In
the following sections we’ll cover a bunch of details about factors so you can
be better prepared to deal with any type of categorical data.</p>
<div id="function-factor" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Function <code>factor()</code></h3>
<p>Given the fundamental role played by the function <code>factor()</code> we need to pay a
closer look at its arguments. If you check the documentation—see
<code>help(factor)</code>—you’ll see that the usage of the function <code>factor()</code> is:</p>
<pre><code>  factor(x = character(), levels, labels = levels,
         exclude = NA, ordered = is.ordered(x), nmax = NA)</code></pre>
<p>with the following arguments:</p>
<ul>
<li><code>x</code> a vector of data</li>
<li><code>levels</code> an optional vector for the categories</li>
<li><code>labels</code> an optional character vector of labels for the levels</li>
<li><code>exclude</code> a vector of values to be excluded when forming the set of levels</li>
<li><code>ordered</code> logical value to indicate if the levels should be regarded as ordered</li>
<li><code>nmax</code> an upper bound on the number of levels</li>
</ul>
<p>The main argument of <code>factor()</code> is the input vector <code>x</code>. The next argument is
<code>levels</code>, followed by <code>labels</code>, both of which are optional arguments. Although
you won’t always be providing values for <code>levels</code> and <code>labels</code>, it is important
to understand how R handles these arguments by default.</p>
<div id="argument-levels" class="section level4 unnumbered">
<h4>Argument <code>levels</code></h4>
<p>If <code>levels</code> is not provided (which is what happens in most cases), then R
assigns the unique values in <code>x</code> as the category levels.</p>
<p>For example, consider our numeric vector from the first example: <code>num_vector</code>
contains unique values 1, 2, and 3.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="factors.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vector</span></span>
<span id="cb90-2"><a href="factors.html#cb90-2" aria-hidden="true" tabindex="-1"></a>num_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb90-3"><a href="factors.html#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="factors.html#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co"># creating a factor from num_vector</span></span>
<span id="cb90-5"><a href="factors.html#cb90-5" aria-hidden="true" tabindex="-1"></a>first_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector)</span>
<span id="cb90-6"><a href="factors.html#cb90-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-7"><a href="factors.html#cb90-7" aria-hidden="true" tabindex="-1"></a>first_factor</span>
<span id="cb90-8"><a href="factors.html#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb90-9"><a href="factors.html#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3</span></span></code></pre></div>
<p>Now imagine we want to have <code>levels</code> 1, 2, 3, 4, and 5. This is how you can
define the factor with an extended set of levels:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="factors.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vector</span></span>
<span id="cb91-2"><a href="factors.html#cb91-2" aria-hidden="true" tabindex="-1"></a>num_vector</span>
<span id="cb91-3"><a href="factors.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb91-4"><a href="factors.html#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="factors.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># defining levels</span></span>
<span id="cb91-6"><a href="factors.html#cb91-6" aria-hidden="true" tabindex="-1"></a>one_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb91-7"><a href="factors.html#cb91-7" aria-hidden="true" tabindex="-1"></a>one_factor</span>
<span id="cb91-8"><a href="factors.html#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb91-9"><a href="factors.html#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3 4 5</span></span></code></pre></div>
<p>Although the created factor only has values between 1 and 3, the <code>levels</code> range
from 1 to 5. This can be useful if we plan to add elements whose values are not
in the input vector <code>num_vector</code>. For instance, you can append two more elements
to <code>one_factor</code> with values <code>4</code> and <code>5</code> like this:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="factors.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding values 4 and 5</span></span>
<span id="cb92-2"><a href="factors.html#cb92-2" aria-hidden="true" tabindex="-1"></a>one_factor[<span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">9</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb92-3"><a href="factors.html#cb92-3" aria-hidden="true" tabindex="-1"></a>one_factor</span>
<span id="cb92-4"><a href="factors.html#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2 4 5</span></span>
<span id="cb92-5"><a href="factors.html#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3 4 5</span></span></code></pre></div>
<p>If you attempt to insert an element having a value that is not in the
predefined set of levels, R will insert a missing value (<code>&lt;NA&gt;</code>) instead, and
you’ll get a warning message like the one below:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="factors.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># attempting to add value 6 (not in levels)</span></span>
<span id="cb93-2"><a href="factors.html#cb93-2" aria-hidden="true" tabindex="-1"></a>one_factor[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb93-3"><a href="factors.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in `[&lt;-.factor`(`*tmp*`, 1, value = 6): invalid factor level, NA</span></span>
<span id="cb93-4"><a href="factors.html#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; generated</span></span>
<span id="cb93-5"><a href="factors.html#cb93-5" aria-hidden="true" tabindex="-1"></a>one_factor</span>
<span id="cb93-6"><a href="factors.html#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &lt;NA&gt; 2    3    1    2    3    2    4    5   </span></span>
<span id="cb93-7"><a href="factors.html#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3 4 5</span></span></code></pre></div>
</div>
<div id="argument-labels" class="section level4 unnumbered">
<h4>Argument <code>labels</code></h4>
<p>Another very useful argument is <code>labels</code>, which allows you to provide a string
vector for naming the <code>levels</code> in a different way from the values in <code>x</code>. Let’s
take the numeric vector <code>num_vector</code> again, and say we want to use words as
labels instead of numeric values. Here’s how you can create a factor with
predefined <code>labels</code>:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="factors.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defining labels</span></span>
<span id="cb94-2"><a href="factors.html#cb94-2" aria-hidden="true" tabindex="-1"></a>num_word_vector <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>))</span>
<span id="cb94-3"><a href="factors.html#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="factors.html#cb94-4" aria-hidden="true" tabindex="-1"></a>num_word_vector</span>
<span id="cb94-5"><a href="factors.html#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] one   two   three one   two   three two  </span></span>
<span id="cb94-6"><a href="factors.html#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: one two three</span></span></code></pre></div>
</div>
<div id="argument-exclude" class="section level4 unnumbered">
<h4>Argument <code>exclude</code></h4>
<p>If you want to ignore some values of the input vector <code>x</code>, you can use the
<code>exclude</code> argument. You just need to provide those values which will be removed
from the set of <code>levels</code>.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="factors.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># excluding level 3</span></span>
<span id="cb95-2"><a href="factors.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(num_vector, <span class="at">exclude =</span> <span class="dv">3</span>)</span>
<span id="cb95-3"><a href="factors.html#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1    2    &lt;NA&gt; 1    2    &lt;NA&gt; 2   </span></span>
<span id="cb95-4"><a href="factors.html#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2</span></span>
<span id="cb95-5"><a href="factors.html#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="factors.html#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="co"># excluding levels 1 and 3</span></span>
<span id="cb95-7"><a href="factors.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(num_vector, <span class="at">exclude =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb95-8"><a href="factors.html#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &lt;NA&gt; 2    &lt;NA&gt; &lt;NA&gt; 2    &lt;NA&gt; 2   </span></span>
<span id="cb95-9"><a href="factors.html#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 2</span></span></code></pre></div>
<p>The side effect of <code>exclude</code> is that it returns a missing value (<code>&lt;NA&gt;</code>) for
each element that was excluded, which is not always what we want. Here’s one
way to remove the missing values when excluding 3:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="factors.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># excluding level 3</span></span>
<span id="cb96-2"><a href="factors.html#cb96-2" aria-hidden="true" tabindex="-1"></a>num_fac12 <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector, <span class="at">exclude =</span> <span class="dv">3</span>)</span>
<span id="cb96-3"><a href="factors.html#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="factors.html#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co"># oops, we have some missing values</span></span>
<span id="cb96-5"><a href="factors.html#cb96-5" aria-hidden="true" tabindex="-1"></a>num_fac12</span>
<span id="cb96-6"><a href="factors.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1    2    &lt;NA&gt; 1    2    &lt;NA&gt; 2   </span></span>
<span id="cb96-7"><a href="factors.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2</span></span>
<span id="cb96-8"><a href="factors.html#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="co"># removing missing values</span></span>
<span id="cb96-9"><a href="factors.html#cb96-9" aria-hidden="true" tabindex="-1"></a>num_fac12[<span class="sc">!</span><span class="fu">is.na</span>(num_fac12)]</span>
<span id="cb96-10"><a href="factors.html#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 1 2 2</span></span>
<span id="cb96-11"><a href="factors.html#cb96-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2</span></span></code></pre></div>
</div>
</div>
<div id="unclassing-factors" class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Unclassing factors</h3>
<p>We’ve mentioned that factors are stored as vectors of integers (for efficiency
reasons). But we also said that factors are more than vectors. Even though a
factor is displayed with string labels, the way it is stored internally is as
integers. Why is this important to know? Because there will be occasions in
which you’ll need to know exactly what numbers are associated to each level
values.</p>
<p>Imagine you have a factor with <code>levels</code> 11, 22, 33, 44.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="factors.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># factor</span></span>
<span id="cb97-2"><a href="factors.html#cb97-2" aria-hidden="true" tabindex="-1"></a>xfactor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">11</span>, <span class="dv">44</span>, <span class="dv">33</span>, <span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">44</span>))</span>
<span id="cb97-3"><a href="factors.html#cb97-3" aria-hidden="true" tabindex="-1"></a>xfactor</span>
<span id="cb97-4"><a href="factors.html#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 22 11 44 33 11 22 44</span></span>
<span id="cb97-5"><a href="factors.html#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 11 22 33 44</span></span></code></pre></div>
<p>To obtain the integer vector associated to <code>xfactor</code> you can use the function
<code>unclass()</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="factors.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># unclassing a factor</span></span>
<span id="cb98-2"><a href="factors.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(xfactor)</span>
<span id="cb98-3"><a href="factors.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 1 4 3 1 2 4</span></span>
<span id="cb98-4"><a href="factors.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; attr(,&quot;levels&quot;)</span></span>
<span id="cb98-5"><a href="factors.html#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;11&quot; &quot;22&quot; &quot;33&quot; &quot;44&quot;</span></span></code></pre></div>
<p>As you can see, the levels <code>"11"</code>, <code>"22"</code>, <code>"33"</code>, <code>"44"</code> were mapped to the
vector of integers <code>(1 2 3 4)</code>.</p>
<p>An alternative option is to simply apply <code>as.numeric()</code> or <code>as.integer()</code>
instead of using <code>unclass()</code>:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="factors.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to unclass</span></span>
<span id="cb99-2"><a href="factors.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(xfactor)</span>
<span id="cb99-3"><a href="factors.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 1 4 3 1 2 4</span></span>
<span id="cb99-4"><a href="factors.html#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="factors.html#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to unclass</span></span>
<span id="cb99-6"><a href="factors.html#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(xfactor)</span>
<span id="cb99-7"><a href="factors.html#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 1 4 3 1 2 4</span></span></code></pre></div>
<p>Although rarely used, there can be some cases in which what you need to do is
revert the integer values in order to get the original factor levels. This is
only possible when the levels of the factor are themselves numeric. To accomplish
this use the following command:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="factors.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># recovering numeric levels</span></span>
<span id="cb100-2"><a href="factors.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">levels</span>(xfactor))[xfactor]</span>
<span id="cb100-3"><a href="factors.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 22 11 44 33 11 22 44</span></span></code></pre></div>
</div>
</div>
<div id="ordinal-factors" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Ordinal Factors</h2>
<p>By default, <code>factor()</code> creates a <em>nominal</em> categorical variable, not an ordinal.
One way to check that you have a nominal factor is to use the function
<code>is.ordered()</code>, which returns <code>TRUE</code> if its argument is an ordinal factor.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="factors.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordinal factor?</span></span>
<span id="cb101-2"><a href="factors.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(num_vector)</span>
<span id="cb101-3"><a href="factors.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>If you want to specify an ordinal factor you must use the <code>ordered</code> argument of
<code>factor()</code>. This is how you can generate an ordinal value from <code>num_vector</code>:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="factors.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordinal factor from numeric vector</span></span>
<span id="cb102-2"><a href="factors.html#cb102-2" aria-hidden="true" tabindex="-1"></a>ordinal_num <span class="ot">&lt;-</span> <span class="fu">factor</span>(num_vector, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb102-3"><a href="factors.html#cb102-3" aria-hidden="true" tabindex="-1"></a>ordinal_num</span>
<span id="cb102-4"><a href="factors.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb102-5"><a href="factors.html#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 &lt; 2 &lt; 3</span></span></code></pre></div>
<p>As you can tell from the snippet above, the levels of <code>ordinal_factor</code> are
displayed with less-than symbols `‘&lt;’}, which means that the levels have an
increasing order. We can also get an ordinal factor from our string vector:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="factors.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordinal factor from character vector</span></span>
<span id="cb103-2"><a href="factors.html#cb103-2" aria-hidden="true" tabindex="-1"></a>ordinal_str <span class="ot">&lt;-</span> <span class="fu">factor</span>(str_vector, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb103-3"><a href="factors.html#cb103-3" aria-hidden="true" tabindex="-1"></a>ordinal_str</span>
<span id="cb103-4"><a href="factors.html#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb103-5"><a href="factors.html#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: a &lt; b &lt; c</span></span></code></pre></div>
<p>In fact, when you set <code>ordered = TRUE</code>, R sorts the provided values in
alphanumeric order. If you have the following alphanumeric vector
<code>("a1", "1a", "1b", "b1")</code>, what do you think will be the generated ordered
factor? Let’s check the answer:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="factors.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># alphanumeric vector</span></span>
<span id="cb104-2"><a href="factors.html#cb104-2" aria-hidden="true" tabindex="-1"></a>alphanum <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a1&quot;</span>, <span class="st">&quot;1a&quot;</span>, <span class="st">&quot;1b&quot;</span>, <span class="st">&quot;b1&quot;</span>)</span>
<span id="cb104-3"><a href="factors.html#cb104-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-4"><a href="factors.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ordinal factor from character vector</span></span>
<span id="cb104-5"><a href="factors.html#cb104-5" aria-hidden="true" tabindex="-1"></a>ordinal_alphanum <span class="ot">&lt;-</span> <span class="fu">factor</span>(alphanum, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb104-6"><a href="factors.html#cb104-6" aria-hidden="true" tabindex="-1"></a>ordinal_alphanum</span>
<span id="cb104-7"><a href="factors.html#cb104-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a1 1a 1b b1</span></span>
<span id="cb104-8"><a href="factors.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1a &lt; 1b &lt; a1 &lt; b1</span></span></code></pre></div>
<p>An alternative way to specify an ordinal variable is by using the function
<code>ordered()</code>, which is just a convenient wrapper for
<code>factor(x, ..., ordered = TRUE)</code>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="factors.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordinal factor with ordered()</span></span>
<span id="cb105-2"><a href="factors.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ordered</span>(num_vector)</span>
<span id="cb105-3"><a href="factors.html#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb105-4"><a href="factors.html#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 &lt; 2 &lt; 3</span></span>
<span id="cb105-5"><a href="factors.html#cb105-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-6"><a href="factors.html#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="co"># same as using &#39;ordered&#39; argument</span></span>
<span id="cb105-7"><a href="factors.html#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(num_vector, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb105-8"><a href="factors.html#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3 2</span></span>
<span id="cb105-9"><a href="factors.html#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 &lt; 2 &lt; 3</span></span></code></pre></div>
<p>A word of caution. Don’t confuse the function <code>ordered()</code> with <code>order()</code>. They
are not equivalent. <code>order()</code> arranges a vector into ascending or descending
order, and returns the sorted vector. <code>ordered()</code>, as we’ve seen, is used to
get ordinal factors.</p>
<p>Of course, you won’t always be using the default order provided by the
functions <code>factor(..., ordered = TRUE)</code> or <code>ordered()</code>. Sometimes you want to
determine categories according to a different order.</p>
<p>For example, let’s take the values of <code>str_vector</code> and let’s assume that we
want them in descending order, that is, <code>c &lt; b &lt; a</code>. How can you do that? Easy,
you just need to specify the <code>levels</code> in the order you want them and set
<code>ordered = TRUE</code> (or use <code>ordered()</code>):</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="factors.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setting levels with specified order</span></span>
<span id="cb106-2"><a href="factors.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(str_vector, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb106-3"><a href="factors.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb106-4"><a href="factors.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: c &lt; b &lt; a</span></span>
<span id="cb106-5"><a href="factors.html#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="factors.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalently</span></span>
<span id="cb106-7"><a href="factors.html#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ordered</span>(str_vector, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>))</span>
<span id="cb106-8"><a href="factors.html#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb106-9"><a href="factors.html#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: c &lt; b &lt; a</span></span></code></pre></div>
<p>Here’s another example. Consider a set of size values <code>"xs"</code> extra-small, <code>"sm"</code>
small, <code>"md"</code> medium, <code>"lg"</code> large, and <code>"xl"</code> extra-large. If you have a
vector with size values you can create an ordinal variable as follows:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="factors.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vector of sizes</span></span>
<span id="cb107-2"><a href="factors.html#cb107-2" aria-hidden="true" tabindex="-1"></a>sizes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;sm&quot;</span>, <span class="st">&quot;xs&quot;</span>, <span class="st">&quot;xl&quot;</span>, <span class="st">&quot;lg&quot;</span>, <span class="st">&quot;xs&quot;</span>, <span class="st">&quot;lg&quot;</span>)</span>
<span id="cb107-3"><a href="factors.html#cb107-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-4"><a href="factors.html#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setting levels with specified order</span></span>
<span id="cb107-5"><a href="factors.html#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ordered</span>(sizes, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;xs&quot;</span>, <span class="st">&quot;sm&quot;</span>, <span class="st">&quot;md&quot;</span>, <span class="st">&quot;lg&quot;</span>, <span class="st">&quot;xl&quot;</span>))</span>
<span id="cb107-6"><a href="factors.html#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] sm xs xl lg xs lg</span></span>
<span id="cb107-7"><a href="factors.html#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: xs &lt; sm &lt; md &lt; lg &lt; xl</span></span></code></pre></div>
<p>Notice that when you create an ordinal factor, the given <code>levels</code> will always
be considered in an increasing order. This means that the first value of <code>levels</code>
will be the smallest one, then the second one, and so on. The last category,
in turn, is taken as the one at the top of the scale.</p>
<p>Now that we have several nominal and ordinal factors, we can compare the
behavior of <code>is.ordered()</code> on two factors:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="factors.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># is.ordered() on an ordinal factor</span></span>
<span id="cb108-2"><a href="factors.html#cb108-2" aria-hidden="true" tabindex="-1"></a>ordinal_str</span>
<span id="cb108-3"><a href="factors.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb108-4"><a href="factors.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: a &lt; b &lt; c</span></span>
<span id="cb108-5"><a href="factors.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(ordinal_str)</span>
<span id="cb108-6"><a href="factors.html#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb108-7"><a href="factors.html#cb108-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-8"><a href="factors.html#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="co"># is.ordered() on a nominal factor</span></span>
<span id="cb108-9"><a href="factors.html#cb108-9" aria-hidden="true" tabindex="-1"></a>second_factor</span>
<span id="cb108-10"><a href="factors.html#cb108-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b c b c a c b</span></span>
<span id="cb108-11"><a href="factors.html#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: a b c</span></span>
<span id="cb108-12"><a href="factors.html#cb108-12" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(second_factor)</span>
<span id="cb108-13"><a href="factors.html#cb108-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="more-about-vectors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="arrays.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rcoding.pdf", "rcoding.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
