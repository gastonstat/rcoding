<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Data Frames | Coding in R</title>
  <meta name="description" content="This is yet another book about programming in the statistical programming R language." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Data Frames | Coding in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is yet another book about programming in the statistical programming R language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Data Frames | Coding in R" />
  
  <meta name="twitter:description" content="This is yet another book about programming in the statistical programming R language." />
  

<meta name="author" content="Gaston Sanchez" />


<meta name="date" content="2022-02-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lists.html"/>
<link rel="next" href="functions1.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Coding in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#yet-another-r-book"><i class="fa fa-check"></i>Yet Another R Book</a></li>
</ul></li>
<li class="part"><span><b>I Getting Started with R and RStudio</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#interacting-with-r"><i class="fa fa-check"></i><b>1.1</b> Interacting with R</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rintro.html"><a href="rintro.html"><i class="fa fa-check"></i><b>2</b> Breaking the Ice with R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rintro.html"><a href="rintro.html#first-contact-with-r-via-rstudio"><i class="fa fa-check"></i><b>2.1</b> First Contact with R (via RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="rintro.html"><a href="rintro.html#r-as-a-scientific-calculator"><i class="fa fa-check"></i><b>2.1.1</b> R as a scientific calculator</a></li>
<li class="chapter" data-level="2.1.2" data-path="rintro.html"><a href="rintro.html#assigning-values-to-objects"><i class="fa fa-check"></i><b>2.1.2</b> Assigning values to objects</a></li>
<li class="chapter" data-level="2.1.3" data-path="rintro.html"><a href="rintro.html#object-names"><i class="fa fa-check"></i><b>2.1.3</b> Object Names</a></li>
<li class="chapter" data-level="2.1.4" data-path="rintro.html"><a href="rintro.html#case-sensitive"><i class="fa fa-check"></i><b>2.1.4</b> Case Sensitive</a></li>
<li class="chapter" data-level="2.1.5" data-path="rintro.html"><a href="rintro.html#calling-functions"><i class="fa fa-check"></i><b>2.1.5</b> Calling Functions</a></li>
<li class="chapter" data-level="2.1.6" data-path="rintro.html"><a href="rintro.html#comments-in-r"><i class="fa fa-check"></i><b>2.1.6</b> Comments in R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rintro.html"><a href="rintro.html#help-documentation"><i class="fa fa-check"></i><b>2.2</b> Getting Help</a></li>
<li class="chapter" data-level="2.3" data-path="rintro.html"><a href="rintro.html#installing-packages"><i class="fa fa-check"></i><b>2.3</b> Installing Packages</a></li>
<li class="chapter" data-level="2.4" data-path="rintro.html"><a href="rintro.html#exercises"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>3</b> A Quick Tour Around RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rstudio.html"><a href="rstudio.html#first-contact-with-rstudio"><i class="fa fa-check"></i><b>3.1</b> First Contact with RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio.html"><a href="rstudio.html#rstudio-panes-in-a-nutshell"><i class="fa fa-check"></i><b>3.2</b> RStudio Panes in a Nutshell</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="rstudio.html"><a href="rstudio.html#console"><i class="fa fa-check"></i><b>3.2.1</b> Console</a></li>
<li class="chapter" data-level="3.2.2" data-path="rstudio.html"><a href="rstudio.html#files-plots-packages-help"><i class="fa fa-check"></i><b>3.2.2</b> Files, Plots, Packages, Help</a></li>
<li class="chapter" data-level="3.2.3" data-path="rstudio.html"><a href="rstudio.html#source-or-editor"><i class="fa fa-check"></i><b>3.2.3</b> Source or Editor</a></li>
<li class="chapter" data-level="3.2.4" data-path="rstudio.html"><a href="rstudio.html#environment-history-connections"><i class="fa fa-check"></i><b>3.2.4</b> Environment, History, Connections</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rstudio.html"><a href="rstudio.html#exercises-1"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="session.html"><a href="session.html"><i class="fa fa-check"></i><b>4</b> Session Management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="session.html"><a href="session.html#starting-a-session"><i class="fa fa-check"></i><b>4.1</b> Starting a Session</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="session.html"><a href="session.html#what-happens-when-you-open-an-r-session-via-rstudio"><i class="fa fa-check"></i><b>4.1.1</b> What happens when you open an R session via RStudio?</a></li>
<li class="chapter" data-level="4.1.2" data-path="session.html"><a href="session.html#opening-a-session-for-the-first-time"><i class="fa fa-check"></i><b>4.1.2</b> Opening a session for the first time</a></li>
<li class="chapter" data-level="4.1.3" data-path="session.html"><a href="session.html#working-directory"><i class="fa fa-check"></i><b>4.1.3</b> Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="session.html"><a href="session.html#working-during-a-session"><i class="fa fa-check"></i><b>4.2</b> Working During a Session</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="session.html"><a href="session.html#working-directory-1"><i class="fa fa-check"></i><b>4.2.1</b> Working Directory</a></li>
<li class="chapter" data-level="4.2.2" data-path="session.html"><a href="session.html#workspace-and-global-environment"><i class="fa fa-check"></i><b>4.2.2</b> Workspace and Global Environment</a></li>
<li class="chapter" data-level="4.2.3" data-path="session.html"><a href="session.html#commands-history"><i class="fa fa-check"></i><b>4.2.3</b> Commands History</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="session.html"><a href="session.html#closing-a-session"><i class="fa fa-check"></i><b>4.3</b> Closing a Session</a></li>
</ul></li>
<li class="part"><span><b>II Data Objects in R</b></span></li>
<li class="chapter" data-level="5" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>5</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.1" data-path="vectors.html"><a href="vectors.html#motivation-compound-interest"><i class="fa fa-check"></i><b>5.1</b> Motivation: Compound Interest</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="vectors.html"><a href="vectors.html#creating-objects"><i class="fa fa-check"></i><b>5.1.1</b> Creating Objects</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="vectors.html"><a href="vectors.html#about-r-vectors"><i class="fa fa-check"></i><b>5.2</b> About R Vectors</a></li>
<li class="chapter" data-level="5.3" data-path="vectors.html"><a href="vectors.html#vectors-are-atomic-objects"><i class="fa fa-check"></i><b>5.3</b> Vectors are Atomic Objects</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="vectors.html"><a href="vectors.html#types-and-modes"><i class="fa fa-check"></i><b>5.3.1</b> Types and Modes</a></li>
<li class="chapter" data-level="5.3.2" data-path="vectors.html"><a href="vectors.html#special-values"><i class="fa fa-check"></i><b>5.3.2</b> Special Values</a></li>
<li class="chapter" data-level="5.3.3" data-path="vectors.html"><a href="vectors.html#length-of-vectors"><i class="fa fa-check"></i><b>5.3.3</b> Length of Vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="vectors.html"><a href="vectors.html#creating-vectors"><i class="fa fa-check"></i><b>5.4</b> Creating Vectors</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="vectors.html"><a href="vectors.html#creating-vectors-with-c"><i class="fa fa-check"></i><b>5.4.1</b> Creating vectors with <code>c()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="vectors.html"><a href="vectors.html#numeric-sequences"><i class="fa fa-check"></i><b>5.4.2</b> Numeric Sequences</a></li>
<li class="chapter" data-level="5.4.3" data-path="vectors.html"><a href="vectors.html#replicated-vectors"><i class="fa fa-check"></i><b>5.4.3</b> Replicated Vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>5.5</b> Coercion</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="vectors.html"><a href="vectors.html#implicit-coercion-rules"><i class="fa fa-check"></i><b>5.5.1</b> Implicit Coercion Rules</a></li>
<li class="chapter" data-level="5.5.2" data-path="vectors.html"><a href="vectors.html#explicit-coercion-functions"><i class="fa fa-check"></i><b>5.5.2</b> Explicit Coercion Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="more-about-vectors.html"><a href="more-about-vectors.html"><i class="fa fa-check"></i><b>6</b> More About Vectors</a>
<ul>
<li class="chapter" data-level="6.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#motivation-future-value"><i class="fa fa-check"></i><b>6.1</b> Motivation: Future Value</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#future-value-formula"><i class="fa fa-check"></i><b>6.1.1</b> Future Value Formula</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="more-about-vectors.html"><a href="more-about-vectors.html#vectorization"><i class="fa fa-check"></i><b>6.2</b> Vectorization</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#definition-of-vectorization"><i class="fa fa-check"></i><b>6.2.1</b> Definition of Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="more-about-vectors.html"><a href="more-about-vectors.html#recycling"><i class="fa fa-check"></i><b>6.3</b> Recycling</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#vectorization-and-recycling"><i class="fa fa-check"></i><b>6.3.1</b> Vectorization and Recycling</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="more-about-vectors.html"><a href="more-about-vectors.html#manipulating-vectors-subsetting"><i class="fa fa-check"></i><b>6.4</b> Manipulating Vectors: Subsetting</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="more-about-vectors.html"><a href="more-about-vectors.html#numeric-subsetting"><i class="fa fa-check"></i><b>6.4.1</b> Numeric Subsetting</a></li>
<li class="chapter" data-level="6.4.2" data-path="more-about-vectors.html"><a href="more-about-vectors.html#character-subsetting"><i class="fa fa-check"></i><b>6.4.2</b> Character Subsetting</a></li>
<li class="chapter" data-level="6.4.3" data-path="more-about-vectors.html"><a href="more-about-vectors.html#logical-subsetting"><i class="fa fa-check"></i><b>6.4.3</b> Logical Subsetting</a></li>
<li class="chapter" data-level="6.4.4" data-path="more-about-vectors.html"><a href="more-about-vectors.html#summary-of-subsetting"><i class="fa fa-check"></i><b>6.4.4</b> Summary of Subsetting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> Factors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>7.1</b> Creating Factors</a></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#how-r-treats-factors"><i class="fa fa-check"></i><b>7.2</b> How R treats factors</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#a-closer-look-at-factor"><i class="fa fa-check"></i><b>7.3</b> A closer look at <code>factor()</code></a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="factors.html"><a href="factors.html#function-factor"><i class="fa fa-check"></i><b>7.3.1</b> Function <code>factor()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="factors.html"><a href="factors.html#unclassing-factors"><i class="fa fa-check"></i><b>7.3.2</b> Unclassing factors</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#ordinal-factors"><i class="fa fa-check"></i><b>7.4</b> Ordinal Factors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="arrays.html"><a href="arrays.html"><i class="fa fa-check"></i><b>8</b> Matrices and Arrays</a>
<ul>
<li class="chapter" data-level="8.1" data-path="arrays.html"><a href="arrays.html#motivation"><i class="fa fa-check"></i><b>8.1</b> Motivation</a></li>
<li class="chapter" data-level="8.2" data-path="arrays.html"><a href="arrays.html#tables-with-matrices"><i class="fa fa-check"></i><b>8.2</b> Tables with Matrices</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="arrays.html"><a href="arrays.html#r-matrices"><i class="fa fa-check"></i><b>8.2.1</b> R Matrices</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="arrays.html"><a href="arrays.html#creating-matrices-with-matrix"><i class="fa fa-check"></i><b>8.3</b> Creating matrices with <code>matrix()</code></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="arrays.html"><a href="arrays.html#more-matrices"><i class="fa fa-check"></i><b>8.3.1</b> More Matrices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>9</b> Lists</a>
<ul>
<li class="chapter" data-level="9.1" data-path="lists.html"><a href="lists.html#creating-lists"><i class="fa fa-check"></i><b>9.1</b> Creating Lists</a></li>
<li class="chapter" data-level="9.2" data-path="lists.html"><a href="lists.html#manipulating-lists"><i class="fa fa-check"></i><b>9.2</b> Manipulating Lists</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="lists.html"><a href="lists.html#single-brackets"><i class="fa fa-check"></i><b>9.2.1</b> Single brackets</a></li>
<li class="chapter" data-level="9.2.2" data-path="lists.html"><a href="lists.html#double-brackets"><i class="fa fa-check"></i><b>9.2.2</b> Double Brackets</a></li>
<li class="chapter" data-level="9.2.3" data-path="lists.html"><a href="lists.html#dollar-signs"><i class="fa fa-check"></i><b>9.2.3</b> Dollar signs</a></li>
<li class="chapter" data-level="9.2.4" data-path="lists.html"><a href="lists.html#adding-new-elements"><i class="fa fa-check"></i><b>9.2.4</b> Adding new elements</a></li>
<li class="chapter" data-level="9.2.5" data-path="lists.html"><a href="lists.html#removing-elements"><i class="fa fa-check"></i><b>9.2.5</b> Removing elements</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lists.html"><a href="lists.html#exercises-2"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>10</b> Data Frames</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframes.html"><a href="dataframes.html#r-data-frames"><i class="fa fa-check"></i><b>10.1</b> R Data Frames</a></li>
<li class="chapter" data-level="10.2" data-path="dataframes.html"><a href="dataframes.html#inspecting-data-frames"><i class="fa fa-check"></i><b>10.2</b> Inspecting data frames</a></li>
<li class="chapter" data-level="10.3" data-path="dataframes.html"><a href="dataframes.html#creating-data-frames"><i class="fa fa-check"></i><b>10.3</b> Creating data frames</a></li>
<li class="chapter" data-level="10.4" data-path="dataframes.html"><a href="dataframes.html#basic-operations-with-data-frames"><i class="fa fa-check"></i><b>10.4</b> Basic Operations with Data Frames</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="dataframes.html"><a href="dataframes.html#selecting-elements"><i class="fa fa-check"></i><b>10.4.1</b> Selecting elements</a></li>
<li class="chapter" data-level="10.4.2" data-path="dataframes.html"><a href="dataframes.html#adding-a-column"><i class="fa fa-check"></i><b>10.4.2</b> Adding a column</a></li>
<li class="chapter" data-level="10.4.3" data-path="dataframes.html"><a href="dataframes.html#deleting-a-column"><i class="fa fa-check"></i><b>10.4.3</b> Deleting a column</a></li>
<li class="chapter" data-level="10.4.4" data-path="dataframes.html"><a href="dataframes.html#renaming-a-column"><i class="fa fa-check"></i><b>10.4.4</b> Renaming a column</a></li>
<li class="chapter" data-level="10.4.5" data-path="dataframes.html"><a href="dataframes.html#moving-a-column"><i class="fa fa-check"></i><b>10.4.5</b> Moving a column</a></li>
<li class="chapter" data-level="10.4.6" data-path="dataframes.html"><a href="dataframes.html#transforming-a-column"><i class="fa fa-check"></i><b>10.4.6</b> Transforming a column</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="dataframes.html"><a href="dataframes.html#exercises-3"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Programming Basics</b></span></li>
<li class="chapter" data-level="11" data-path="functions1.html"><a href="functions1.html"><i class="fa fa-check"></i><b>11</b> Intro to Functions</a>
<ul>
<li class="chapter" data-level="11.1" data-path="functions1.html"><a href="functions1.html#motivation-1"><i class="fa fa-check"></i><b>11.1</b> Motivation</a></li>
<li class="chapter" data-level="11.2" data-path="functions1.html"><a href="functions1.html#writing-a-simple-function"><i class="fa fa-check"></i><b>11.2</b> Writing a Simple Function</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="functions1.html"><a href="functions1.html#arguments-with-default-values"><i class="fa fa-check"></i><b>11.2.1</b> Arguments with default values</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions1.html"><a href="functions1.html#writing-functions-for-humans"><i class="fa fa-check"></i><b>11.3</b> Writing Functions for Humans</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="functions1.html"><a href="functions1.html#naming-functions"><i class="fa fa-check"></i><b>11.3.1</b> Naming Functions</a></li>
<li class="chapter" data-level="11.3.2" data-path="functions1.html"><a href="functions1.html#functions-documentation"><i class="fa fa-check"></i><b>11.3.2</b> Function’s Documentation</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functions1.html"><a href="functions1.html#exercises-4"><i class="fa fa-check"></i><b>11.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="expressions.html"><a href="expressions.html"><i class="fa fa-check"></i><b>12</b> Expressions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="expressions.html"><a href="expressions.html#r-expressions"><i class="fa fa-check"></i><b>12.1</b> R Expressions</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="expressions.html"><a href="expressions.html#simple-expressions"><i class="fa fa-check"></i><b>12.1.1</b> Simple Expressions</a></li>
<li class="chapter" data-level="12.1.2" data-path="expressions.html"><a href="expressions.html#compound-expressions"><i class="fa fa-check"></i><b>12.1.2</b> Compound Expressions</a></li>
<li class="chapter" data-level="12.1.3" data-path="expressions.html"><a href="expressions.html#every-expression-has-a-value"><i class="fa fa-check"></i><b>12.1.3</b> Every expression has a value</a></li>
<li class="chapter" data-level="12.1.4" data-path="expressions.html"><a href="expressions.html#assignments-within-compound-expressions"><i class="fa fa-check"></i><b>12.1.4</b> Assignments within Compound Expressions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>13</b> Conditionals</a>
<ul>
<li class="chapter" data-level="13.1" data-path="conditionals.html"><a href="conditionals.html#motivation-2"><i class="fa fa-check"></i><b>13.1</b> Motivation</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="conditionals.html"><a href="conditionals.html#future-value-of-ordinary-annuity"><i class="fa fa-check"></i><b>13.1.1</b> Future Value of Ordinary Annuity</a></li>
<li class="chapter" data-level="13.1.2" data-path="conditionals.html"><a href="conditionals.html#future-value-of-annuity-due"><i class="fa fa-check"></i><b>13.1.2</b> Future Value of Annuity Due</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="conditionals.html"><a href="conditionals.html#conditionals-1"><i class="fa fa-check"></i><b>13.2</b> Conditionals</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="conditionals.html"><a href="conditionals.html#if-else-conditions"><i class="fa fa-check"></i><b>13.2.1</b> If-else conditions</a></li>
<li class="chapter" data-level="13.2.2" data-path="conditionals.html"><a href="conditionals.html#anatomy-of-if-else-statements"><i class="fa fa-check"></i><b>13.2.2</b> Anatomy of if-else statements</a></li>
<li class="chapter" data-level="13.2.3" data-path="conditionals.html"><a href="conditionals.html#minimalist-if-then-else"><i class="fa fa-check"></i><b>13.2.3</b> Minimalist If-then-else</a></li>
<li class="chapter" data-level="13.2.4" data-path="conditionals.html"><a href="conditionals.html#simple-ifs"><i class="fa fa-check"></i><b>13.2.4</b> Simple If’s</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="conditionals.html"><a href="conditionals.html#multiple-ifs"><i class="fa fa-check"></i><b>13.3</b> Multiple If’s</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="conditionals.html"><a href="conditionals.html#switch-statements"><i class="fa fa-check"></i><b>13.3.1</b> Switch statements</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="conditionals.html"><a href="conditionals.html#derivation-of-fvoa"><i class="fa fa-check"></i><b>13.4</b> Derivation of FVOA</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.gastonsanchez.com" target="blank">Gaston Sanchez</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Coding in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataframes" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Data Frames</h1>
<p>The most common format/structure for a data set is a tabular format:
with rows and columns (like a spreadsheet). When your data is in this shape,
most of the time you will work with R <strong>data frames</strong> (or similar rectangular
structures like a <code>"matrix"</code>, <code>"table"</code>, <code>"tibble"</code>, etc).</p>
<p>Learning how to manipulate data frames is among the most important
<em>data computing</em> skills in R.
Nowadays, there are two primary approaches for manipulating data frames. One
is what I call the “traditional” or “classic” approach which is what I present
in this chapter. The other is the “tidy” approach which you can think of as a
modern version based on the <em>tidy data</em> framework mainly developed by
Hadley Wickham. We leave the discussion of this alternative approach for later.</p>
<p>To make the most of the content covered in the next sections, I am assuming
that you are familiar with the rest of data objects covered in the previous
chapters of part “II Data Objects in R.”</p>
<div id="r-data-frames" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> R Data Frames</h2>
<p>A data frame is a special type of R list. In most cases, a data frame is
internally stored as a list of vectors or factors, in which each vector
(or factor) corresponds to a column. This implies that columns in a data frame
are typically atomic structures: all elements in a given column are of the same
data type. However, since a data frame is a list, you
can technically have any kind of object as a column. In practice, though,
having data frames with columns that are not vectors or factors is something
that does not make much sense.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="images/objects/obj-dataframe.png" alt="Abstract view of a data.frame" width="75%" />
<p class="caption">
Figure 10.1: Abstract view of a data.frame
</p>
</div>
<p>From the data manipulation point of view, data frames behave like a hybrid
object. On one hand, they are lists and can be manipulated like any other list
using double brackets <code>dat[[ ]]</code> and dollar operator <code>dat$name</code>.
On the other hand, because data frames are designed as tabular or 2-dimensional
objects, they also behave like two-dimensional arrays or matrices, admitting
bracket notation <code>dat[ , ]</code>. For these reasons, there is a wide array of
functions that allows you to manipulate data frames in very convenient ways.
But to the inexperienced user, all these functions may feel overwhelming.</p>
</div>
<div id="inspecting-data-frames" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Inspecting data frames</h2>
<p>One of the basic tasks when working with data frames involves inspecting its
contents. Specially in the early stages of data exploration, when dealing for
the first time with a new data frame, you will need to inspect things like
its overall structure, which includes its dimensions (number of rows and
columns), the data types of its columns, the names of columns and rows, and
also be able to take a peak to some of its first or last rows, and usually
obtain a summary of each column.</p>
<p>Let’s see an example with one of the built-in data frames in R: <code>mtcars</code>.
Just a few rows and columns of <code>mtcars</code> are displayed below:</p>
<pre><code>#&gt;                    mpg cyl disp  hp drat    wt
#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620
#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875
#&gt; Datsun 710        22.8   4  108  93 3.85 2.320
#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215
#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440</code></pre>
<p>The main function to explore the <em>structure</em> of not just a data frame, but of
any kind of object, is <code>str()</code>. When applied to data frames, <code>str()</code> returns a
report of the dimensions of the data frame, a list with the name of all the
variables, and their data types (e.g. <code>chr</code> character, <code>num</code> real, etc).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="dataframes.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars, <span class="at">vec.len =</span> <span class="dv">1</span>)</span>
<span id="cb2-2"><a href="dataframes.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    32 obs. of  11 variables:</span></span>
<span id="cb2-3"><a href="dataframes.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ mpg : num  21 21 ...</span></span>
<span id="cb2-4"><a href="dataframes.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ cyl : num  6 6 ...</span></span>
<span id="cb2-5"><a href="dataframes.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ disp: num  160 160 ...</span></span>
<span id="cb2-6"><a href="dataframes.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ hp  : num  110 110 ...</span></span>
<span id="cb2-7"><a href="dataframes.html#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ drat: num  3.9 3.9 ...</span></span>
<span id="cb2-8"><a href="dataframes.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ wt  : num  2.62 ...</span></span>
<span id="cb2-9"><a href="dataframes.html#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ qsec: num  16.5 ...</span></span>
<span id="cb2-10"><a href="dataframes.html#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ vs  : num  0 0 ...</span></span>
<span id="cb2-11"><a href="dataframes.html#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ am  : num  1 1 ...</span></span>
<span id="cb2-12"><a href="dataframes.html#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ gear: num  4 4 ...</span></span>
<span id="cb2-13"><a href="dataframes.html#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ carb: num  4 4 ...</span></span></code></pre></div>
<p>The argument <code>vec.len = 1</code> is optional but we like to use it because it
indicates that just the first elements in each column should be displayed.
Observe the output returned by <code>str()</code>. The first line tells us that <code>mtcars</code>
is an object of class <code>'data.frame'</code> with 32 observations (rows) and 11 variables
(columns). Then, the set of 11 variables is listed below, each line starting
with the dollar <code>$</code> operator, followed by the name of the variable, followed
by a colon <code>:</code>, the data mode (all numeric <code>num</code> variables in this case),
and then a couple of values in each variable.</p>
<p>It is specially useful to check the data type of each column in order to catch
potential issues and avoid disastrous consequences or bugs in subsequent stages.</p>
<p>Here’s a list of useful functions to inspect a data frame:</p>
<ul>
<li><code>str()</code>: overall structure</li>
<li><code>head()</code>: first rows</li>
<li><code>tail()</code>: last rows</li>
<li><code>summary()</code>: descriptive statistics</li>
<li><code>dim()</code>: dimensions</li>
<li><code>nrow()</code>: number of rows</li>
<li><code>ncol()</code>: number of columns</li>
<li><code>names()</code>: names of list elements (i.e. column names)</li>
<li><code>colnames()</code>: column names</li>
<li><code>rownames()</code>: row names</li>
<li><code>dimnames()</code>: list with column and row names</li>
</ul>
<p>On a technical side, we should mention that a data frame is a list with special
attributes: an attribute <code>names</code> for column names, an attribute
<code>row.names</code> for column names, and of course its attribute <code>class</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="dataframes.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(mtcars)</span>
<span id="cb3-2"><a href="dataframes.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb3-3"><a href="dataframes.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;</span></span>
<span id="cb3-4"><a href="dataframes.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;carb&quot;</span></span>
<span id="cb3-5"><a href="dataframes.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-6"><a href="dataframes.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $row.names</span></span>
<span id="cb3-7"><a href="dataframes.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Mazda RX4&quot;           &quot;Mazda RX4 Wag&quot;       &quot;Datsun 710&quot;         </span></span>
<span id="cb3-8"><a href="dataframes.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;Hornet 4 Drive&quot;      &quot;Hornet Sportabout&quot;   &quot;Valiant&quot;            </span></span>
<span id="cb3-9"><a href="dataframes.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Duster 360&quot;          &quot;Merc 240D&quot;           &quot;Merc 230&quot;           </span></span>
<span id="cb3-10"><a href="dataframes.html#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;Merc 280&quot;            &quot;Merc 280C&quot;           &quot;Merc 450SE&quot;         </span></span>
<span id="cb3-11"><a href="dataframes.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Merc 450SL&quot;          &quot;Merc 450SLC&quot;         &quot;Cadillac Fleetwood&quot; </span></span>
<span id="cb3-12"><a href="dataframes.html#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] &quot;Lincoln Continental&quot; &quot;Chrysler Imperial&quot;   &quot;Fiat 128&quot;           </span></span>
<span id="cb3-13"><a href="dataframes.html#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;Honda Civic&quot;         &quot;Toyota Corolla&quot;      &quot;Toyota Corona&quot;      </span></span>
<span id="cb3-14"><a href="dataframes.html#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [22] &quot;Dodge Challenger&quot;    &quot;AMC Javelin&quot;         &quot;Camaro Z28&quot;         </span></span>
<span id="cb3-15"><a href="dataframes.html#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] &quot;Pontiac Firebird&quot;    &quot;Fiat X1-9&quot;           &quot;Porsche 914-2&quot;      </span></span>
<span id="cb3-16"><a href="dataframes.html#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28] &quot;Lotus Europa&quot;        &quot;Ford Pantera L&quot;      &quot;Ferrari Dino&quot;       </span></span>
<span id="cb3-17"><a href="dataframes.html#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] &quot;Maserati Bora&quot;       &quot;Volvo 142E&quot;         </span></span>
<span id="cb3-18"><a href="dataframes.html#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-19"><a href="dataframes.html#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb3-20"><a href="dataframes.html#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;data.frame&quot;</span></span></code></pre></div>
</div>
<div id="creating-data-frames" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Creating data frames</h2>
<p>Most of the (raw) data tables you will be working with will already be in
some data file. However, from time to time you will face the need to create
some sort of data table in R. In these situations, you will likely have to
create such table with a data frame. So let’s look at various ways to
“manually”” create a data frame.</p>
<p><strong>Option 1</strong>: The primary option to build a data frame is with <code>data.frame()</code>.
You pass a series of vectors (or factors), of the same length, separated by commas.
Each vector (or factor) will become a column in the generated data frame.
Preferably, give names to each column like in the example below:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="dataframes.html#cb4-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="dataframes.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&#39;Anakin&#39;</span>, <span class="st">&#39;Padme&#39;</span>, <span class="st">&#39;Luke&#39;</span>, <span class="st">&#39;Leia&#39;</span>),</span>
<span id="cb4-3"><a href="dataframes.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>, <span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>),</span>
<span id="cb4-4"><a href="dataframes.html#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">1.88</span>, <span class="fl">1.65</span>, <span class="fl">1.72</span>, <span class="fl">1.50</span>),</span>
<span id="cb4-5"><a href="dataframes.html#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">84</span>, <span class="dv">45</span>, <span class="dv">77</span>, <span class="dv">49</span>)</span>
<span id="cb4-6"><a href="dataframes.html#cb4-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb4-7"><a href="dataframes.html#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="dataframes.html#cb4-8" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb4-9"><a href="dataframes.html#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     name gender height weight</span></span>
<span id="cb4-10"><a href="dataframes.html#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Anakin   male   1.88     84</span></span>
<span id="cb4-11"><a href="dataframes.html#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  Padme female   1.65     45</span></span>
<span id="cb4-12"><a href="dataframes.html#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   Luke   male   1.72     77</span></span>
<span id="cb4-13"><a href="dataframes.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Leia female   1.50     49</span></span></code></pre></div>
<p><strong>Option 2</strong>: Another way to create data frames is with a <code>list</code> containing
vectors or factors (of the same length), which you then convert into a data
frame with <code>data.frame()</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="dataframes.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># another way to create a basic data frame</span></span>
<span id="cb5-2"><a href="dataframes.html#cb5-2" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb5-3"><a href="dataframes.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&#39;Anakin&#39;</span>, <span class="st">&#39;Padme&#39;</span>, <span class="st">&#39;Luke&#39;</span>, <span class="st">&#39;Leia&#39;</span>),</span>
<span id="cb5-4"><a href="dataframes.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>, <span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>),</span>
<span id="cb5-5"><a href="dataframes.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">1.88</span>, <span class="fl">1.65</span>, <span class="fl">1.72</span>, <span class="fl">1.50</span>),</span>
<span id="cb5-6"><a href="dataframes.html#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">84</span>, <span class="dv">45</span>, <span class="dv">77</span>, <span class="dv">49</span>)</span>
<span id="cb5-7"><a href="dataframes.html#cb5-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-8"><a href="dataframes.html#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="dataframes.html#cb5-9" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(lst)</span>
<span id="cb5-10"><a href="dataframes.html#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="dataframes.html#cb5-11" aria-hidden="true" tabindex="-1"></a>tbl</span>
<span id="cb5-12"><a href="dataframes.html#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     name gender height weight</span></span>
<span id="cb5-13"><a href="dataframes.html#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Anakin   male   1.88     84</span></span>
<span id="cb5-14"><a href="dataframes.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  Padme female   1.65     45</span></span>
<span id="cb5-15"><a href="dataframes.html#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   Luke   male   1.72     77</span></span>
<span id="cb5-16"><a href="dataframes.html#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Leia female   1.50     49</span></span></code></pre></div>
<p>Remember that a <code>data.frame</code> is nothing more than a <code>list</code>. So as long as the
elements in the list (vectors or factors) are of the same length, we can simply
convert the list into a data frame.</p>
<p>By default, <code>data.frame()</code> converts character vectors into factors. You can
check that by examining the structure of the data frame with <code>str()</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="dataframes.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tbl)</span>
<span id="cb6-2"><a href="dataframes.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    4 obs. of  4 variables:</span></span>
<span id="cb6-3"><a href="dataframes.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ name  : chr  &quot;Anakin&quot; &quot;Padme&quot; &quot;Luke&quot; &quot;Leia&quot;</span></span>
<span id="cb6-4"><a href="dataframes.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ gender: chr  &quot;male&quot; &quot;female&quot; &quot;male&quot; &quot;female&quot;</span></span>
<span id="cb6-5"><a href="dataframes.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ height: num  1.88 1.65 1.72 1.5</span></span>
<span id="cb6-6"><a href="dataframes.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ weight: num  84 45 77 49</span></span></code></pre></div>
<p>To prevent <code>data.frame()</code> from converting strings into factors, you must use
the argument <code>stringsAsFactors = FALSE</code></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="dataframes.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># strings as strings (not as factors)</span></span>
<span id="cb7-2"><a href="dataframes.html#cb7-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-3"><a href="dataframes.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&#39;Anakin&#39;</span>, <span class="st">&#39;Padme&#39;</span>, <span class="st">&#39;Luke&#39;</span>, <span class="st">&#39;Leia&#39;</span>),</span>
<span id="cb7-4"><a href="dataframes.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>, <span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>),</span>
<span id="cb7-5"><a href="dataframes.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">1.88</span>, <span class="fl">1.65</span>, <span class="fl">1.72</span>, <span class="fl">1.50</span>),</span>
<span id="cb7-6"><a href="dataframes.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">84</span>, <span class="dv">45</span>, <span class="dv">77</span>, <span class="dv">49</span>),</span>
<span id="cb7-7"><a href="dataframes.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb7-8"><a href="dataframes.html#cb7-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-9"><a href="dataframes.html#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="dataframes.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span>
<span id="cb7-11"><a href="dataframes.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    4 obs. of  4 variables:</span></span>
<span id="cb7-12"><a href="dataframes.html#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ name  : chr  &quot;Anakin&quot; &quot;Padme&quot; &quot;Luke&quot; &quot;Leia&quot;</span></span>
<span id="cb7-13"><a href="dataframes.html#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ gender: chr  &quot;male&quot; &quot;female&quot; &quot;male&quot; &quot;female&quot;</span></span>
<span id="cb7-14"><a href="dataframes.html#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ height: num  1.88 1.65 1.72 1.5</span></span>
<span id="cb7-15"><a href="dataframes.html#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ weight: num  84 45 77 49</span></span></code></pre></div>
</div>
<div id="basic-operations-with-data-frames" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Basic Operations with Data Frames</h2>
<p>Now that you have seen some ways to create data frames, let’s discuss a number
of basic manipulations of data frames. We will show you examples of various
operations, and then you’ll have the chance to put them in practice with some
exercises listed at the end of the chapter.</p>
<ul>
<li>Selecting table elements:
<ul>
<li>select a given cell</li>
<li>select a set of cells</li>
<li>select a given row</li>
<li>select a set of rows</li>
<li>select a given column</li>
<li>select a set of columns</li>
</ul></li>
<li>Adding a new column</li>
<li>Deleting a new column</li>
<li>Renaming a column</li>
<li>Moving a column</li>
<li>Transforming a column</li>
</ul>
<p>Let’s say you have a data frame <code>dat</code> with the following content:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="dataframes.html#cb8-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb8-2"><a href="dataframes.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&#39;Leia&#39;</span>, <span class="st">&#39;Luke&#39;</span>, <span class="st">&#39;Han&#39;</span>),</span>
<span id="cb8-3"><a href="dataframes.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;female&#39;</span>, <span class="st">&#39;male&#39;</span>, <span class="st">&#39;male&#39;</span>),</span>
<span id="cb8-4"><a href="dataframes.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">1.50</span>, <span class="fl">1.72</span>, <span class="fl">1.80</span>),</span>
<span id="cb8-5"><a href="dataframes.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jedi =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb8-6"><a href="dataframes.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb8-7"><a href="dataframes.html#cb8-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-8"><a href="dataframes.html#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="dataframes.html#cb8-9" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb8-10"><a href="dataframes.html#cb8-10" aria-hidden="true" tabindex="-1"></a>  name gender height  jedi</span>
<span id="cb8-11"><a href="dataframes.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Leia female   <span class="fl">1.50</span> <span class="cn">FALSE</span></span>
<span id="cb8-12"><a href="dataframes.html#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Luke   male   <span class="fl">1.72</span>  <span class="cn">TRUE</span></span>
<span id="cb8-13"><a href="dataframes.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  Han   male   <span class="fl">1.80</span> <span class="cn">FALSE</span></span></code></pre></div>
<div id="selecting-elements" class="section level3" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Selecting elements</h3>
<p>The data frame <code>dat</code> is a 2-dimensional object: the 1st dimension corresponds
to the rows, while the 2nd dimension corresponds to the columns.
Because <code>dat</code> has two dimensions, the bracket notation involves
working with data frames in this form: <code>dat[ , ]</code>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-9"></span>
<img src="images/objects/obj-dataframe-brackets.png" alt="Bracket notation in data frames" width="50%" />
<p class="caption">
Figure 10.2: Bracket notation in data frames
</p>
</div>
<p>In other words, you have to specify values inside the
brackets for the 1st index, and the 2nd index: <code>dat[index1, index2]</code>.</p>
<div id="selecting-cells" class="section level4 unnumbered">
<h4>Selecting cells</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="images/objects/obj-dataframe-cells1.png" alt="Several ways to select cells" width="80%" />
<p class="caption">
Figure 10.3: Several ways to select cells
</p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="dataframes.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select value in row 1 and column 1</span></span>
<span id="cb9-2"><a href="dataframes.html#cb9-2" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb9-3"><a href="dataframes.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Leia&quot;</span></span>
<span id="cb9-4"><a href="dataframes.html#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="dataframes.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># select value in row 2 and column 3</span></span>
<span id="cb9-6"><a href="dataframes.html#cb9-6" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb9-7"><a href="dataframes.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.72</span></span>
<span id="cb9-8"><a href="dataframes.html#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="dataframes.html#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># select values in these cells</span></span>
<span id="cb9-10"><a href="dataframes.html#cb9-10" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb9-11"><a href="dataframes.html#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   height  jedi</span></span>
<span id="cb9-12"><a href="dataframes.html#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   1.50 FALSE</span></span>
<span id="cb9-13"><a href="dataframes.html#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   1.72  TRUE</span></span></code></pre></div>
<p>It is also possible to exclude certain rows-and-columns by passing negative
numeric indices:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-12"></span>
<img src="images/objects/obj-dataframe-cells2.png" alt="Several ways to exclude cells" width="80%" />
<p class="caption">
Figure 10.4: Several ways to exclude cells
</p>
</div>
</div>
<div id="selecting-rows" class="section level4 unnumbered">
<h4>Selecting rows</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-13"></span>
<img src="images/objects/obj-dataframe-rows1.png" alt="Several ways to select rows" width="80%" />
<p class="caption">
Figure 10.5: Several ways to select rows
</p>
</div>
<p>If no value is specified for <code>index1</code> then all rows are included. Likewise,
if no value is specified for <code>index2</code> then all columns are included.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="dataframes.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting first row</span></span>
<span id="cb10-2"><a href="dataframes.html#cb10-2" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">1</span>, ]</span>
<span id="cb10-3"><a href="dataframes.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name gender height  jedi</span></span>
<span id="cb10-4"><a href="dataframes.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia female    1.5 FALSE</span></span>
<span id="cb10-5"><a href="dataframes.html#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="dataframes.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting third row</span></span>
<span id="cb10-7"><a href="dataframes.html#cb10-7" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">3</span>, ]</span>
<span id="cb10-8"><a href="dataframes.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name gender height  jedi</span></span>
<span id="cb10-9"><a href="dataframes.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han   male    1.8 FALSE</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-15"></span>
<img src="images/objects/obj-dataframe-rows2.png" alt="Several ways to exclude rows" width="80%" />
<p class="caption">
Figure 10.6: Several ways to exclude rows
</p>
</div>
</div>
<div id="selecting-columns" class="section level4 unnumbered">
<h4>Selecting columns</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-16"></span>
<img src="images/objects/obj-dataframe-cols1.png" alt="Several ways to select columns" width="80%" />
<p class="caption">
Figure 10.7: Several ways to select columns
</p>
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="dataframes.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting second column</span></span>
<span id="cb11-2"><a href="dataframes.html#cb11-2" aria-hidden="true" tabindex="-1"></a>dat[ ,<span class="dv">2</span>]</span>
<span id="cb11-3"><a href="dataframes.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;female&quot; &quot;male&quot;   &quot;male&quot;</span></span>
<span id="cb11-4"><a href="dataframes.html#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="dataframes.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting columns 2 to 4</span></span>
<span id="cb11-6"><a href="dataframes.html#cb11-6" aria-hidden="true" tabindex="-1"></a>dat[ ,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb11-7"><a href="dataframes.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   gender height  jedi</span></span>
<span id="cb11-8"><a href="dataframes.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 female   1.50 FALSE</span></span>
<span id="cb11-9"><a href="dataframes.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   male   1.72  TRUE</span></span>
<span id="cb11-10"><a href="dataframes.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   male   1.80 FALSE</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-18"></span>
<img src="images/objects/obj-dataframe-cols2.png" alt="Several ways to exclude columns" width="80%" />
<p class="caption">
Figure 10.8: Several ways to exclude columns
</p>
</div>
</div>
<div id="more-options-to-access-columns" class="section level4 unnumbered">
<h4>More Options to Access Columns</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-19"></span>
<img src="images/objects/obj-dataframe-names.png" alt="Other options to select columns of a data frame" width="50%" />
<p class="caption">
Figure 10.9: Other options to select columns of a data frame
</p>
</div>
<p>The dollar sign also works for selecting a column of a data frame
using its name</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="dataframes.html#cb12-1" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>mpg</span>
<span id="cb12-2"><a href="dataframes.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4</span></span>
<span id="cb12-3"><a href="dataframes.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7</span></span>
<span id="cb12-4"><a href="dataframes.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] 15.0 21.4</span></span></code></pre></div>
<p>You don’t need to use quote marks, but you can if you want. The following
calls are equivalent.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="dataframes.html#cb13-1" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span><span class="st">&#39;mpg&#39;</span></span>
<span id="cb13-2"><a href="dataframes.html#cb13-2" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span><span class="st">&quot;mpg&quot;</span></span>
<span id="cb13-3"><a href="dataframes.html#cb13-3" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span><span class="st">`</span><span class="at">mpg</span><span class="st">`</span></span></code></pre></div>
</div>
</div>
<div id="adding-a-column" class="section level3" number="10.4.2">
<h3><span class="header-section-number">10.4.2</span> Adding a column</h3>
<p>Perhaps the simplest way to add a column is with the dollar operator <code>$</code>.
You just need to give a name for the new column, and assign a vector (or factor):</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="dataframes.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding a column</span></span>
<span id="cb14-2"><a href="dataframes.html#cb14-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>new_column <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;e&#39;</span>, <span class="st">&#39;i&#39;</span>)</span>
<span id="cb14-3"><a href="dataframes.html#cb14-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb14-4"><a href="dataframes.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name gender height  jedi new_column</span></span>
<span id="cb14-5"><a href="dataframes.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia female   1.50 FALSE          a</span></span>
<span id="cb14-6"><a href="dataframes.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke   male   1.72  TRUE          e</span></span>
<span id="cb14-7"><a href="dataframes.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han   male   1.80 FALSE          i</span></span></code></pre></div>
<p>Another way to add a column is with the <em>column binding</em> function <code>cbind()</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="dataframes.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vector of weights</span></span>
<span id="cb15-2"><a href="dataframes.html#cb15-2" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">49</span>, <span class="dv">77</span>, <span class="dv">85</span>)</span>
<span id="cb15-3"><a href="dataframes.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="dataframes.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># adding weights to dat</span></span>
<span id="cb15-5"><a href="dataframes.html#cb15-5" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(dat, weight)</span>
<span id="cb15-6"><a href="dataframes.html#cb15-6" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb15-7"><a href="dataframes.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name gender height  jedi new_column weight</span></span>
<span id="cb15-8"><a href="dataframes.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia female   1.50 FALSE          a     49</span></span>
<span id="cb15-9"><a href="dataframes.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke   male   1.72  TRUE          e     77</span></span>
<span id="cb15-10"><a href="dataframes.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han   male   1.80 FALSE          i     85</span></span></code></pre></div>
</div>
<div id="deleting-a-column" class="section level3" number="10.4.3">
<h3><span class="header-section-number">10.4.3</span> Deleting a column</h3>
<p>The inverse operation of adding a column consists of <strong>deleting</strong> a column.
This is possible with the <code>$</code> dollar operator. For instance, say you want to
remove the column <code>new_column</code>. Use the <code>$</code> operator to select this column,
and assign it the value <code>NULL</code> (think of this as <em>NULLifying</em> a column):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="dataframes.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># deleting a column</span></span>
<span id="cb16-2"><a href="dataframes.html#cb16-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>new_column <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb16-3"><a href="dataframes.html#cb16-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb16-4"><a href="dataframes.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name gender height  jedi weight</span></span>
<span id="cb16-5"><a href="dataframes.html#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia female   1.50 FALSE     49</span></span>
<span id="cb16-6"><a href="dataframes.html#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke   male   1.72  TRUE     77</span></span>
<span id="cb16-7"><a href="dataframes.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han   male   1.80 FALSE     85</span></span></code></pre></div>
</div>
<div id="renaming-a-column" class="section level3" number="10.4.4">
<h3><span class="header-section-number">10.4.4</span> Renaming a column</h3>
<p>What if you want to rename a column? There are various options to do this.
One way is by changing the column <code>names</code> attribute:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="dataframes.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># attributes</span></span>
<span id="cb17-2"><a href="dataframes.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(dat)</span>
<span id="cb17-3"><a href="dataframes.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb17-4"><a href="dataframes.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;name&quot;   &quot;gender&quot; &quot;height&quot; &quot;jedi&quot;   &quot;weight&quot;</span></span>
<span id="cb17-5"><a href="dataframes.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb17-6"><a href="dataframes.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $row.names</span></span>
<span id="cb17-7"><a href="dataframes.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb17-8"><a href="dataframes.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb17-9"><a href="dataframes.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb17-10"><a href="dataframes.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;data.frame&quot;</span></span></code></pre></div>
<p>which is more commonly accessed with the <code>names()</code> function:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="dataframes.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># column names</span></span>
<span id="cb18-2"><a href="dataframes.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat)</span>
<span id="cb18-3"><a href="dataframes.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;name&quot;   &quot;gender&quot; &quot;height&quot; &quot;jedi&quot;   &quot;weight&quot;</span></span></code></pre></div>
<p>Notice that <code>dat</code> has a list of attributes. The element <code>names</code> is the vector
of column names.</p>
<p>You can directly modify the vector of <code>names</code>; for example let’s change
<code>gender</code> to <code>sex</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="dataframes.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># changing rookie to rooky</span></span>
<span id="cb19-2"><a href="dataframes.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(dat)<span class="sc">$</span>names[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;sex&quot;</span></span>
<span id="cb19-3"><a href="dataframes.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="dataframes.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># display column names</span></span>
<span id="cb19-5"><a href="dataframes.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat)</span>
<span id="cb19-6"><a href="dataframes.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;name&quot;   &quot;sex&quot;    &quot;height&quot; &quot;jedi&quot;   &quot;weight&quot;</span></span></code></pre></div>
<p>By the way: this approach of changing the name of a variable is very low level,
and probably unfamiliar to most useRs.</p>
</div>
<div id="moving-a-column" class="section level3" number="10.4.5">
<h3><span class="header-section-number">10.4.5</span> Moving a column</h3>
<p>A more challenging operation is when you want to move a column to a different
position. What if you want to move <code>salary</code> to the last position (last column)?
One option is to create a vector of column names in the desired order, and then
use this vector (for the index of columns) to reassign the data frame like this:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="dataframes.html#cb20-1" aria-hidden="true" tabindex="-1"></a>reordered_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;jedi&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;sex&quot;</span>)</span>
<span id="cb20-2"><a href="dataframes.html#cb20-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat[ ,reordered_names]</span>
<span id="cb20-3"><a href="dataframes.html#cb20-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb20-4"><a href="dataframes.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height weight    sex</span></span>
<span id="cb20-5"><a href="dataframes.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE   1.50     49 female</span></span>
<span id="cb20-6"><a href="dataframes.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE   1.72     77   male</span></span>
<span id="cb20-7"><a href="dataframes.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE   1.80     85   male</span></span></code></pre></div>
</div>
<div id="transforming-a-column" class="section level3" number="10.4.6">
<h3><span class="header-section-number">10.4.6</span> Transforming a column</h3>
<p>A more common operation than deleting or moving a column, is to transform the
values in a column. This can be easily accomplished with the <code>$</code> operator.
For instance, let’s say that we want to transform <code>height</code> from meters to
centimeters:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="dataframes.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># converting height to centimeters</span></span>
<span id="cb21-2"><a href="dataframes.html#cb21-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>height <span class="ot">&lt;-</span> dat<span class="sc">$</span>height <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb21-3"><a href="dataframes.html#cb21-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb21-4"><a href="dataframes.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height weight    sex</span></span>
<span id="cb21-5"><a href="dataframes.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE    150     49 female</span></span>
<span id="cb21-6"><a href="dataframes.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE    172     77   male</span></span>
<span id="cb21-7"><a href="dataframes.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE    180     85   male</span></span></code></pre></div>
<p>Likewise, instead of using the <code>$</code> operator, you can refer to the column using
bracket notation. Here’s how to transform weight from kilograms to pounds
(1 kg = 2.20462 pounds):</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="dataframes.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weight into pounds</span></span>
<span id="cb22-2"><a href="dataframes.html#cb22-2" aria-hidden="true" tabindex="-1"></a>dat[ ,<span class="st">&quot;weight&quot;</span>] <span class="ot">&lt;-</span> dat[ ,<span class="st">&quot;weight&quot;</span>] <span class="sc">*</span> <span class="fl">2.20462</span></span>
<span id="cb22-3"><a href="dataframes.html#cb22-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb22-4"><a href="dataframes.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height   weight    sex</span></span>
<span id="cb22-5"><a href="dataframes.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE    150 108.0264 female</span></span>
<span id="cb22-6"><a href="dataframes.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE    172 169.7557   male</span></span>
<span id="cb22-7"><a href="dataframes.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE    180 187.3927   male</span></span></code></pre></div>
<p>There is also the <code>transform()</code> function which transform values <em>interactively</em>,
that is, temporarily:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="dataframes.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># transform weight to kgs</span></span>
<span id="cb23-2"><a href="dataframes.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">transform</span>(dat, <span class="at">weight =</span> weight <span class="sc">/</span> <span class="fl">0.453592</span>)</span>
<span id="cb23-3"><a href="dataframes.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height   weight    sex</span></span>
<span id="cb23-4"><a href="dataframes.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE    150 238.1576 female</span></span>
<span id="cb23-5"><a href="dataframes.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE    172 374.2476   male</span></span>
<span id="cb23-6"><a href="dataframes.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE    180 413.1305   male</span></span></code></pre></div>
<p><code>transform()</code> does its job of modifying the values of <code>weight</code> but only
temporarily; if you inspect <code>dat</code> you’ll see what this means:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="dataframes.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># did weight really change?</span></span>
<span id="cb24-2"><a href="dataframes.html#cb24-2" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb24-3"><a href="dataframes.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height   weight    sex</span></span>
<span id="cb24-4"><a href="dataframes.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE    150 108.0264 female</span></span>
<span id="cb24-5"><a href="dataframes.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE    172 169.7557   male</span></span>
<span id="cb24-6"><a href="dataframes.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE    180 187.3927   male</span></span></code></pre></div>
<p>To make the changes permanent with <code>transform()</code>, you need to reassign them
to the data frame:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="dataframes.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># transform weight to inches (permanently)</span></span>
<span id="cb25-2"><a href="dataframes.html#cb25-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">transform</span>(dat, <span class="at">weight =</span> weight <span class="sc">/</span> <span class="fl">0.453592</span>)</span>
<span id="cb25-3"><a href="dataframes.html#cb25-3" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb25-4"><a href="dataframes.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name  jedi height   weight    sex</span></span>
<span id="cb25-5"><a href="dataframes.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Leia FALSE    150 238.1576 female</span></span>
<span id="cb25-6"><a href="dataframes.html#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Luke  TRUE    172 374.2476   male</span></span>
<span id="cb25-7"><a href="dataframes.html#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Han FALSE    180 413.1305   male</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="exercises-3" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Exercises</h2>
<p><strong>1)</strong> Consider the following data frame <code>df</code>:</p>
<pre><code>      first      last  gender  born         spell
1     Harry    Potter    male  1980  sectumsempra
2  Hermione   Granger  female  1979     alohomora
3       Ron   Weasley    male  1980    riddikulus
4      Luna  Lovegood  female  1981       episkey</code></pre>
<ol style="list-style-type: lower-alpha">
<li><p>What commands will fail to return the data of individuals born in 1980?</p>
<ol style="list-style-type: lower-roman">
<li><p><code>df[c(TRUE, FALSE, TRUE, FALSE), ]</code></p></li>
<li><p><code>df[df[,4] == 1980, ]</code></p></li>
<li><p><code>df[df$born == 1980]</code></p></li>
<li><p><code>df[df$born == 1980, ]</code></p></li>
<li><p><code>df[ ,df$born == 1980]</code></p></li>
</ol></li>
<li><p>Select the command that does <strong>not</strong> provide information about the data
frame <code>df</code>:</p>
<ol style="list-style-type: lower-roman">
<li><p><code>head(df)</code></p></li>
<li><p><code>str(df)</code></p></li>
<li><p><code>tail(df)</code></p></li>
<li><p><code>rm(df)</code></p></li>
<li><p><code>summary(df)</code></p></li>
</ol></li>
<li><p>Your friend is trying to display the first three rows on columns 1 (<code>first</code>)
and 2 (<code>last</code>), by unsuccessfully using the following command.
Why does the command print all columns?</p></li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="dataframes.html#cb27-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span> <span class="sc">&amp;</span> <span class="dv">2</span>]</span>
<span id="cb27-2"><a href="dataframes.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      first    last gender born        spell</span></span>
<span id="cb27-3"><a href="dataframes.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    Harry  Potter   male 1980 sectumsempra</span></span>
<span id="cb27-4"><a href="dataframes.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Hermione Granger female 1979    alohomora</span></span>
<span id="cb27-5"><a href="dataframes.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3      Ron Weasley   male 1980   riddikulus</span></span></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li><p>Write a command that would correctly display the first two columns.</p></li>
<li><p>Write a command that would give you the following data from <code>df</code>.</p></li>
</ol>
<pre><code>         spell    first
1 sectumsempra    Harry
2    alohomora Hermione
3   riddikulus      Ron
4      episkey     Luna</code></pre>
<p><br></p>
<p><strong>2)</strong> Consider the following data frame <code>dat</code></p>
<pre><code>       first        last   gender      title   gpa
1        Jon        Snow     male       lord   2.8
2       Arya       Stark   female   princess   3.5
3     Tyrion   Lannister     male     master   2.9
4   Daenerys   Targaryen   female   khaleesi   3.7
5       Yara     Greyjoy   female   princess    NA</code></pre>
<p>One of your friends wrote the following R code. Help your friend find all the
errors and <strong>explain what’s wrong</strong>.</p>
<pre><code># value of &#39;first&#39; associated to maximum &#39;gpa&#39;
max_gpa &lt;- max(dat$gpa, na.rm = TRUE)
which_max_gpa &lt;- dat$gpa = max_gpa
dat$first(which_max_gpa)

# gpa of title lord
dat$gpa[dat[ ,title] = &quot;lord&quot;]

# median gpa (of each gender)
which_males &lt;- dat$gender == &#39;male&#39;
which_females &lt;- dat$gender == &#39;female&#39;
median_females &lt;- median(dat$gpa[which_males])
median_males &lt;- median(dat$gpa[which_males])</code></pre>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="lists.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rcoding.pdf", "rcoding.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
